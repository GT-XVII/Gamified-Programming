<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: BulkWriter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_bulk_writer.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="class_bulk_writer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BulkWriter Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for BulkWriter:</div>
<div class="dyncontent">
<div class="center"><img src="class_bulk_writer__coll__graph.png" border="0" usemap="#a_bulk_writer_coll__map" alt="Collaboration graph"/></div>
<map name="a_bulk_writer_coll__map" id="a_bulk_writer_coll__map">
<area shape="rect" title=" " alt="" coords="5,5,209,438"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8365cc9d9a554929fa6f1b7411bb234a" id="r_a8365cc9d9a554929fa6f1b7411bb234a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8365cc9d9a554929fa6f1b7411bb234a">create</a> (documentRef, <a class="el" href="_0dprotobufjs_2utf8_2tests_2index_8js.html#a606a87425a3a6c440c6fdcbfb72c9b68">data</a>)</td></tr>
<tr class="separator:a8365cc9d9a554929fa6f1b7411bb234a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c0f9b859f5b84e08db42ccfc074263f" id="r_a9c0f9b859f5b84e08db42ccfc074263f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c0f9b859f5b84e08db42ccfc074263f">delete</a> (documentRef, precondition)</td></tr>
<tr class="separator:a9c0f9b859f5b84e08db42ccfc074263f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61deb60537a71a9377cd3ad5a0f3bff7" id="r_a61deb60537a71a9377cd3ad5a0f3bff7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a61deb60537a71a9377cd3ad5a0f3bff7">set</a> (documentRef, <a class="el" href="_0dprotobufjs_2utf8_2tests_2index_8js.html#a606a87425a3a6c440c6fdcbfb72c9b68">data</a>, options)</td></tr>
<tr class="separator:a61deb60537a71a9377cd3ad5a0f3bff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a068dbeca555cfc7098816b4c6e268d57" id="r_a068dbeca555cfc7098816b4c6e268d57"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a068dbeca555cfc7098816b4c6e268d57">update</a> (documentRef, dataOrField,...preconditionOrValues)</td></tr>
<tr class="separator:a068dbeca555cfc7098816b4c6e268d57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace0e170f0e76c2678d78f57cd727f7b8" id="r_ace0e170f0e76c2678d78f57cd727f7b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace0e170f0e76c2678d78f57cd727f7b8">onWriteResult</a> (successCallback)</td></tr>
<tr class="separator:ace0e170f0e76c2678d78f57cd727f7b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ce2518fb16a269576cbec89841ea932" id="r_a0ce2518fb16a269576cbec89841ea932"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ce2518fb16a269576cbec89841ea932">onWriteError</a> (shouldRetryCallback)</td></tr>
<tr class="separator:a0ce2518fb16a269576cbec89841ea932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea7ee5ee8411a7c4cc9d73d3139dc668" id="r_aea7ee5ee8411a7c4cc9d73d3139dc668"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aea7ee5ee8411a7c4cc9d73d3139dc668">flush</a> ()</td></tr>
<tr class="separator:aea7ee5ee8411a7c4cc9d73d3139dc668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a646dade45be36c63292bd41b8d368f39" id="r_a646dade45be36c63292bd41b8d368f39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a646dade45be36c63292bd41b8d368f39">close</a> ()</td></tr>
<tr class="separator:a646dade45be36c63292bd41b8d368f39"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a07c5783ce15688d08f6996b2094ac288" id="r_a07c5783ce15688d08f6996b2094ac288"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07c5783ce15688d08f6996b2094ac288">_getBufferedOperationsCount</a> ()</td></tr>
<tr class="separator:a07c5783ce15688d08f6996b2094ac288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9698022ad9b97c819d6426880ea06153" id="r_a9698022ad9b97c819d6426880ea06153"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9698022ad9b97c819d6426880ea06153">_setMaxBatchSize</a> (<a class="el" href="ordered-map_8min_8js.html#aa4a39500e3f754a8f2e1fd50b9ae523c">size</a>)</td></tr>
<tr class="separator:a9698022ad9b97c819d6426880ea06153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac74bbc0913e74b9e11ece8da8415ed8c" id="r_ac74bbc0913e74b9e11ece8da8415ed8c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac74bbc0913e74b9e11ece8da8415ed8c">_setMaxPendingOpCount</a> (newMax)</td></tr>
<tr class="separator:ac74bbc0913e74b9e11ece8da8415ed8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae1709c62ba1f83a067ab2590219dd60" id="r_aae1709c62ba1f83a067ab2590219dd60"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae1709c62ba1f83a067ab2590219dd60">constructor</a> (<a class="el" href="firestore-namespace_8js.html#a6c18541a3018cee632d7e797bb983f36">firestore</a>, options)</td></tr>
<tr class="separator:aae1709c62ba1f83a067ab2590219dd60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2d55f341f36b5e7c564b8175fc648db" id="r_ac2d55f341f36b5e7c564b8175fc648db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac2d55f341f36b5e7c564b8175fc648db">_verifyNotClosed</a> ()</td></tr>
<tr class="separator:ac2d55f341f36b5e7c564b8175fc648db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaa79c5afa7641003dac0429a308c898" id="r_adaa79c5afa7641003dac0429a308c898"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adaa79c5afa7641003dac0429a308c898">_scheduleCurrentBatch</a> (<a class="el" href="#aea7ee5ee8411a7c4cc9d73d3139dc668">flush</a>=<a class="el" href="database-compat_2dist_2index_8standalone_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>)</td></tr>
<tr class="separator:adaa79c5afa7641003dac0429a308c898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de57c195ffb0c132fcc8499c5dfc1b3" id="r_a0de57c195ffb0c132fcc8499c5dfc1b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="util_2dist_2index_8cjs_8js.html#af516a86cc3f563f4c12f98f31f1e2e57">async</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0de57c195ffb0c132fcc8499c5dfc1b3">_sendBatch</a> (batch, <a class="el" href="#aea7ee5ee8411a7c4cc9d73d3139dc668">flush</a>=<a class="el" href="database-compat_2dist_2index_8standalone_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>)</td></tr>
<tr class="separator:a0de57c195ffb0c132fcc8499c5dfc1b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeadd1109687fc698fe367793e4f1d2d6" id="r_aeadd1109687fc698fe367793e4f1d2d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeadd1109687fc698fe367793e4f1d2d6">_enqueue</a> (ref, <a class="el" href="_0dgoogle-cloud_2storage_2node__modules_2mime_2cli_8js.html#a2807c8a03bea7dd9d4118326348f457e">type</a>, enqueueOnBatchCallback)</td></tr>
<tr class="separator:aeadd1109687fc698fe367793e4f1d2d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4d77d452f073342645eba391ad81074" id="r_ad4d77d452f073342645eba391ad81074"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad4d77d452f073342645eba391ad81074">_processBufferedOps</a> ()</td></tr>
<tr class="separator:ad4d77d452f073342645eba391ad81074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a076fea7c6c88ed8f3bd9c5b151f24ec5" id="r_a076fea7c6c88ed8f3bd9c5b151f24ec5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a076fea7c6c88ed8f3bd9c5b151f24ec5">_sendFn</a> (enqueueOnBatchCallback, op)</td></tr>
<tr class="separator:a076fea7c6c88ed8f3bd9c5b151f24ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a586e28a9f8185befea89fa8143351da1" id="r_a586e28a9f8185befea89fa8143351da1"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a586e28a9f8185befea89fa8143351da1">_applyJitter</a> (backoffMs)</td></tr>
<tr class="separator:a586e28a9f8185befea89fa8143351da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_a.html">A</a> <a class="el" href="class_firestore.html">Firestore</a> <a class="el" href="class_bulk_writer.html">BulkWriter</a> that can be used to perform a large number of writes in parallel. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a586e28a9f8185befea89fa8143351da1" name="a586e28a9f8185befea89fa8143351da1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a586e28a9f8185befea89fa8143351da1">&#9670;&#160;</a></span>_applyJitter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static BulkWriter::_applyJitter </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>backoffMs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds a 30% jitter to the provided backoff. </p>

<p class="reference">References <a class="el" href="bulk-writer_8js.html#a2a99b35f5acb6783c8f83ba70a05086a">backoff_1</a>, and <a class="el" href="database-compat_2dist_2index_8standalone_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_bulk_writer_a586e28a9f8185befea89fa8143351da1_icgraph.png" border="0" usemap="#aclass_bulk_writer_a586e28a9f8185befea89fa8143351da1_icgraph" alt=""/></div>
<map name="aclass_bulk_writer_a586e28a9f8185befea89fa8143351da1_icgraph" id="aclass_bulk_writer_a586e28a9f8185befea89fa8143351da1_icgraph">
<area shape="rect" title=" " alt="" coords="245,13,401,38"/>
<area shape="rect" href="class_bulk_writer.html#adaa79c5afa7641003dac0429a308c898" title=" " alt="" coords="5,5,197,46"/>
<area shape="poly" title=" " alt="" coords="229,28,197,28,197,23,229,23"/>
</map>
</div>

</div>
</div>
<a id="aeadd1109687fc698fe367793e4f1d2d6" name="aeadd1109687fc698fe367793e4f1d2d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeadd1109687fc698fe367793e4f1d2d6">&#9670;&#160;</a></span>_enqueue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BulkWriter::_enqueue </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ref</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>enqueueOnBatchCallback</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Schedules and runs the provided operation on the next available batch. </p>

<p class="reference">References <a class="el" href="express_2lib_2express_8js.html#abde3c35e3bb7e5225dd7f234c685329c">res</a>, <a class="el" href="_0dgoogle-cloud_2storage_2node__modules_2mime_2cli_8js.html#a2807c8a03bea7dd9d4118326348f457e">type</a>, and <a class="el" href="bulk-writer_8js.html#a6af3fa6e24c6a46faf4552f3a2ad8783">util_1</a>.</p>

</div>
</div>
<a id="a07c5783ce15688d08f6996b2094ac288" name="a07c5783ce15688d08f6996b2094ac288"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07c5783ce15688d08f6996b2094ac288">&#9670;&#160;</a></span>_getBufferedOperationsCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BulkWriter::_getBufferedOperationsCount </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad4d77d452f073342645eba391ad81074" name="ad4d77d452f073342645eba391ad81074"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4d77d452f073342645eba391ad81074">&#9670;&#160;</a></span>_processBufferedOps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BulkWriter::_processBufferedOps </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Manages the pending operation counter and schedules the next <a class="el" href="class_bulk_writer.html">BulkWriter</a> operation if we're under the maximum limit. </p>

</div>
</div>
<a id="adaa79c5afa7641003dac0429a308c898" name="adaa79c5afa7641003dac0429a308c898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaa79c5afa7641003dac0429a308c898">&#9670;&#160;</a></span>_scheduleCurrentBatch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BulkWriter::_scheduleCurrentBatch </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>flush</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="database-compat_2dist_2index_8standalone_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sends the current batch and resets <code>this._bulkCommitBatch</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flush</td><td>If provided, keeps re-sending operations until no more operations are enqueued. This allows retries to resolve as part of a <code><a class="el" href="#aea7ee5ee8411a7c4cc9d73d3139dc668">flush()</a></code> or <code><a class="el" href="#a646dade45be36c63292bd41b8d368f39">close()</a></code> call. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="#a586e28a9f8185befea89fa8143351da1">_applyJitter()</a>, <a class="el" href="bulk-writer_8js.html#a2a99b35f5acb6783c8f83ba70a05086a">backoff_1</a>, <a class="el" href="firestore-namespace_8js.html#a6c18541a3018cee632d7e797bb983f36">firestore</a>, <a class="el" href="tls_8js.html#a0663808fd266d31d0b0065a5224860eb">flush</a>, and <a class="el" href="bulk-writer_8js.html#a6af3fa6e24c6a46faf4552f3a2ad8783">util_1</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_bulk_writer_adaa79c5afa7641003dac0429a308c898_cgraph.png" border="0" usemap="#aclass_bulk_writer_adaa79c5afa7641003dac0429a308c898_cgraph" alt=""/></div>
<map name="aclass_bulk_writer_adaa79c5afa7641003dac0429a308c898_cgraph" id="aclass_bulk_writer_adaa79c5afa7641003dac0429a308c898_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,197,46"/>
<area shape="rect" href="class_bulk_writer.html#a586e28a9f8185befea89fa8143351da1" title=" " alt="" coords="245,13,401,38"/>
<area shape="poly" title=" " alt="" coords="197,23,229,23,229,28,197,28"/>
</map>
</div>

</div>
</div>
<a id="a0de57c195ffb0c132fcc8499c5dfc1b3" name="a0de57c195ffb0c132fcc8499c5dfc1b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0de57c195ffb0c132fcc8499c5dfc1b3">&#9670;&#160;</a></span>_sendBatch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="util_2dist_2index_8cjs_8js.html#af516a86cc3f563f4c12f98f31f1e2e57">async</a> BulkWriter::_sendBatch </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>batch</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>flush</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="database-compat_2dist_2index_8standalone_8js.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sends the provided batch once the rate limiter does not require any delay. </p>

<p class="reference">References <a class="el" href="form_8js.html#ab63a7754967c678e14c9ece9cf96be37">$</a>, <a class="el" href="bulk-writer_8js.html#a2a99b35f5acb6783c8f83ba70a05086a">backoff_1</a>, <a class="el" href="tls_8js.html#a0663808fd266d31d0b0065a5224860eb">flush</a>, <a class="el" href="backoff_8js.html#aa6fdd07b218f5ee1f103f79a4ad6d5f1">logger_1</a>, <a class="el" href="_0dprotobufjs_2eventemitter_2index_8js.html#ab6259267561b7c85cc788ab12abb95e7">off</a>, <a class="el" href="_0dgoogle-cloud_2firestore_2build_2src_2util_8js.html#aaf8bdc7a31a57b85aa6575ef8ffdd793">requestTag</a>, and <a class="el" href="bulk-writer_8js.html#a6af3fa6e24c6a46faf4552f3a2ad8783">util_1</a>.</p>

</div>
</div>
<a id="a076fea7c6c88ed8f3bd9c5b151f24ec5" name="a076fea7c6c88ed8f3bd9c5b151f24ec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a076fea7c6c88ed8f3bd9c5b151f24ec5">&#9670;&#160;</a></span>_sendFn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BulkWriter::_sendFn </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>enqueueOnBatchCallback</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>op</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Schedules the provided operations on current <a class="el" href="class_bulk_commit_batch.html">BulkCommitBatch</a>. Sends the <a class="el" href="class_bulk_commit_batch.html">BulkCommitBatch</a> if it reaches maximum capacity. </p>

<p class="reference">References <a class="el" href="database-compat_2dist_2index_8standalone_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.</p>

</div>
</div>
<a id="a9698022ad9b97c819d6426880ea06153" name="a9698022ad9b97c819d6426880ea06153"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9698022ad9b97c819d6426880ea06153">&#9670;&#160;</a></span>_setMaxBatchSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BulkWriter::_setMaxBatchSize </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>size</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="database-compat_2dist_2index_8standalone_8js.html#a445382df6f5596f104fa45c8dc67fa73">assert</a>, <a class="el" href="firestore-namespace_8js.html#a6c18541a3018cee632d7e797bb983f36">firestore</a>, and <a class="el" href="ordered-map_8min_8js.html#aa4a39500e3f754a8f2e1fd50b9ae523c">size</a>.</p>

</div>
</div>
<a id="ac74bbc0913e74b9e11ece8da8415ed8c" name="ac74bbc0913e74b9e11ece8da8415ed8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac74bbc0913e74b9e11ece8da8415ed8c">&#9670;&#160;</a></span>_setMaxPendingOpCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BulkWriter::_setMaxPendingOpCount </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>newMax</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac2d55f341f36b5e7c564b8175fc648db" name="ac2d55f341f36b5e7c564b8175fc648db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2d55f341f36b5e7c564b8175fc648db">&#9670;&#160;</a></span>_verifyNotClosed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BulkWriter::_verifyNotClosed </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Throws an error if the <a class="el" href="class_bulk_writer.html">BulkWriter</a> instance has been closed. </p>

</div>
</div>
<a id="a646dade45be36c63292bd41b8d368f39" name="a646dade45be36c63292bd41b8d368f39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a646dade45be36c63292bd41b8d368f39">&#9670;&#160;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BulkWriter::close </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="firestore-namespace_8js.html#a6c18541a3018cee632d7e797bb983f36">firestore</a>, and <a class="el" href="tls_8js.html#a0663808fd266d31d0b0065a5224860eb">flush</a>.</p>

</div>
</div>
<a id="aae1709c62ba1f83a067ab2590219dd60" name="aae1709c62ba1f83a067ab2590219dd60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae1709c62ba1f83a067ab2590219dd60">&#9670;&#160;</a></span>constructor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BulkWriter::constructor </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>firestore</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The maximum number of writes that can be in a single batch. Visible for testing.</p>
<p>The batch that is currently used to schedule operations. Once this batch reaches maximum capacity, a new batch is created.</p>
<p><a class="el" href="class_a.html">A</a> pointer to the tail of all active <a class="el" href="class_bulk_writer.html">BulkWriter</a> operations. This pointer is advanced every time a new write is enqueued.</p>
<p>Whether this <a class="el" href="class_bulk_writer.html">BulkWriter</a> instance has started to close. Afterwards, no new operations can be enqueued, except for retry operations scheduled by the error handler.</p>
<p>The number of pending operations enqueued on this <a class="el" href="class_bulk_writer.html">BulkWriter</a> instance. An operation is considered pending if <a class="el" href="class_bulk_writer.html">BulkWriter</a> has sent it via RPC and is awaiting the result.</p>
<p>An array containing buffered <a class="el" href="class_bulk_writer.html">BulkWriter</a> operations after the maximum number of pending operations has been enqueued.</p>
<p>Whether a custom error handler has been set. <a class="el" href="class_bulk_writer.html">BulkWriter</a> only swallows errors if an error handler is set. Otherwise, an UnhandledPromiseRejection is thrown by <a class="el" href="class_node.html">Node</a> if an operation promise is rejected without being handled.</p>
<p>The maximum number of pending operations that can be enqueued onto this <a class="el" href="class_bulk_writer.html">BulkWriter</a> instance. Once the this number of writes have been enqueued, subsequent writes are buffered.</p>
<p>The user-provided callback to be run every time a <a class="el" href="class_bulk_writer.html">BulkWriter</a> operation successfully completes.</p>
<p>The user-provided callback to be run every time a <a class="el" href="class_bulk_writer.html">BulkWriter</a> operation fails.</p>

<p class="reference">References <a class="el" href="logger_2dist_2esm_2index_8esm5_8js.html#a0adf123df8967a14b5bdd9ff3bbe2d0c">_a</a>, <a class="el" href="logging_8js.html#a53284eb14d953f3ba58806fc49cd4f7c">_b</a>, <a class="el" href="bulk-writer_8js.html#a2a99b35f5acb6783c8f83ba70a05086a">backoff_1</a>, <a class="el" href="bulk-writer_8js.html#a083bffda1f1d06c54602a8931366057e">DEFAULT_MAXIMUM_PENDING_OPERATIONS_COUNT</a>, <a class="el" href="database-compat_2dist_2index_8standalone_8js.html#afaa7db0d6208d21f727c716fa3962b44">error</a>, <a class="el" href="database-compat_2dist_2index_8standalone_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="el" href="firestore-namespace_8js.html#a6c18541a3018cee632d7e797bb983f36">firestore</a>, <a class="el" href="bulk-writer_8js.html#ad70a361f631cb8c6472222ce2c161cd8">MAX_BATCH_SIZE</a>, <a class="el" href="__get_tag_8js.html#abace523389c17bce1848e3a427871700">Promise</a>, <a class="el" href="bulk-writer_8js.html#a21a0e741d21a21504234f0868e279cc9">rate_limiter_1</a>, <a class="el" href="bulk-writer_8js.html#a095f28742b9b852bfc24f1049e3836a4">RATE_LIMITER_MULTIPLIER</a>, <a class="el" href="bulk-writer_8js.html#ac25e75ab75c15af1d2adb3780a06e980">RATE_LIMITER_MULTIPLIER_MILLIS</a>, <a class="el" href="get-intrinsic_2index_8js.html#ae6aa4817f0f49345b718ea6b4abae197">undefined</a>, <a class="el" href="bulk-writer_8js.html#a6af3fa6e24c6a46faf4552f3a2ad8783">util_1</a>, and <a class="el" href="bulk-writer_8js.html#ae4fe45f3eddfd8d8a074bccc2c8f21a9">validateBulkWriterOptions()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_bulk_writer_aae1709c62ba1f83a067ab2590219dd60_cgraph.png" border="0" usemap="#aclass_bulk_writer_aae1709c62ba1f83a067ab2590219dd60_cgraph" alt=""/></div>
<map name="aclass_bulk_writer_aae1709c62ba1f83a067ab2590219dd60_cgraph" id="aclass_bulk_writer_aae1709c62ba1f83a067ab2590219dd60_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,160,31"/>
<area shape="rect" href="bulk-writer_8js.html#ae4fe45f3eddfd8d8a074bccc2c8f21a9" title=" " alt="" coords="208,5,379,31"/>
<area shape="poly" title=" " alt="" coords="160,16,192,16,192,21,160,21"/>
</map>
</div>

</div>
</div>
<a id="a8365cc9d9a554929fa6f1b7411bb234a" name="a8365cc9d9a554929fa6f1b7411bb234a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8365cc9d9a554929fa6f1b7411bb234a">&#9670;&#160;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BulkWriter::create </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>documentRef</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="_0dprotobufjs_2utf8_2tests_2index_8js.html#a606a87425a3a6c440c6fdcbfb72c9b68">data</a>.</p>

</div>
</div>
<a id="a9c0f9b859f5b84e08db42ccfc074263f" name="a9c0f9b859f5b84e08db42ccfc074263f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c0f9b859f5b84e08db42ccfc074263f">&#9670;&#160;</a></span>delete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BulkWriter::delete </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>documentRef</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>precondition</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aea7ee5ee8411a7c4cc9d73d3139dc668" name="aea7ee5ee8411a7c4cc9d73d3139dc668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea7ee5ee8411a7c4cc9d73d3139dc668">&#9670;&#160;</a></span>flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BulkWriter::flush </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0ce2518fb16a269576cbec89841ea932" name="a0ce2518fb16a269576cbec89841ea932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ce2518fb16a269576cbec89841ea932">&#9670;&#160;</a></span>onWriteError()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BulkWriter::onWriteError </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shouldRetryCallback</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ace0e170f0e76c2678d78f57cd727f7b8" name="ace0e170f0e76c2678d78f57cd727f7b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace0e170f0e76c2678d78f57cd727f7b8">&#9670;&#160;</a></span>onWriteResult()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BulkWriter::onWriteResult </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>successCallback</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a61deb60537a71a9377cd3ad5a0f3bff7" name="a61deb60537a71a9377cd3ad5a0f3bff7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61deb60537a71a9377cd3ad5a0f3bff7">&#9670;&#160;</a></span>set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BulkWriter::set </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>documentRef</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="_0dprotobufjs_2utf8_2tests_2index_8js.html#a606a87425a3a6c440c6fdcbfb72c9b68">data</a>.</p>

</div>
</div>
<a id="a068dbeca555cfc7098816b4c6e268d57" name="a068dbeca555cfc7098816b4c6e268d57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a068dbeca555cfc7098816b4c6e268d57">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BulkWriter::update </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>documentRef</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dataOrField</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>backend/node_modules/@google-cloud/firestore/build/src/<a class="el" href="bulk-writer_8js.html">bulk-writer.js</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_bulk_writer.html">BulkWriter</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
