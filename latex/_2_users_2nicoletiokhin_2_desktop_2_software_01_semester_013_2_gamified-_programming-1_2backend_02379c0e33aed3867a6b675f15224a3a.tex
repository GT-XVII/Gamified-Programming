\doxysection{/\+Users/nicoletiokhin/\+Desktop/\+Software Semester 3/\+Gamified-\/\+Programming-\/1/backend/node\+\_\+modules/@google-\/cloud/firestore/build/src/index.\+js}
\hypertarget{_2_users_2nicoletiokhin_2_desktop_2_software_01_semester_013_2_gamified-_programming-1_2backend_02379c0e33aed3867a6b675f15224a3a}{}\label{_2_users_2nicoletiokhin_2_desktop_2_software_01_semester_013_2_gamified-_programming-1_2backend_02379c0e33aed3867a6b675f15224a3a}Converter used by \mbox{[}with\+Converter()\mbox{]}{\ttfamily \doxylink{class_query_addb76647eeb05689a7e378efe43bbefa}{Query\#with\+Converter}} to transform user objects of type {\ttfamily App\+Model\+Type} into \doxylink{class_firestore}{Firestore} data of type {\ttfamily Db\+Model\+Type}.

Using the converter allows you to specify generic type arguments when storing and retrieving objects from \doxylink{class_firestore}{Firestore}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{class\ }Post\ \{}
\DoxyCodeLine{\ \ \mbox{\hyperlink{_json_web_token_error_8js_ae0d7523761ce2ef80fa2f1afff43bbf3}{constructor}}(readonly\ \mbox{\hyperlink{_0dgoogle-cloud_2storage_2node__modules_2mime_2cli_8js_a42954581cb07bf3f6282858111f88ca9}{title}}:\ \textcolor{keywordtype}{string},\ readonly\ author:\ \textcolor{keywordtype}{string})\ \{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a7234a4e8129e261e2c517e09a337bf6a}{toString}}():\ \textcolor{keywordtype}{string}\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ this.\mbox{\hyperlink{_0dgoogle-cloud_2storage_2node__modules_2mime_2cli_8js_a42954581cb07bf3f6282858111f88ca9}{title}}\ +\ \textcolor{stringliteral}{',\ by\ '}\ +\ this.author;}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const}\ postConverter\ =\ \{}
\DoxyCodeLine{\ \ toFirestore(post:\ Post):\ FirebaseFirestore.DocumentData\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{uuid_n_i_l_8min_8js_a58bb107e2e36e8f85abe04406f37ea96}{return}}\ \{\mbox{\hyperlink{_0dgoogle-cloud_2storage_2node__modules_2mime_2cli_8js_a42954581cb07bf3f6282858111f88ca9}{title}}:\ post.\mbox{\hyperlink{_0dgoogle-cloud_2storage_2node__modules_2mime_2cli_8js_a42954581cb07bf3f6282858111f88ca9}{title}},\ author:\ post.author\};}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ fromFirestore(}
\DoxyCodeLine{\ \ \ \ snapshot:\ FirebaseFirestore.QueryDocumentSnapshot}
\DoxyCodeLine{\ \ ):\ Post\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}}\ \mbox{\hyperlink{_0dprotobufjs_2utf8_2tests_2index_8js_a606a87425a3a6c440c6fdcbfb72c9b68}{data}}\ =\ snapshot.\mbox{\hyperlink{_0dprotobufjs_2utf8_2tests_2index_8js_a606a87425a3a6c440c6fdcbfb72c9b68}{data}}();}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ Post(\mbox{\hyperlink{_0dprotobufjs_2utf8_2tests_2index_8js_a606a87425a3a6c440c6fdcbfb72c9b68}{data}}.title,\ \mbox{\hyperlink{_0dprotobufjs_2utf8_2tests_2index_8js_a606a87425a3a6c440c6fdcbfb72c9b68}{data}}.author);}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const}\ postSnap\ =\ await\ \mbox{\hyperlink{_0dgoogle-cloud_2firestore_2build_2src_2index_8js_acc812440e705d93b09c7d25578101711}{Firestore}}()}
\DoxyCodeLine{\ \ .collection(\textcolor{stringliteral}{'posts'})}
\DoxyCodeLine{\ \ .withConverter(postConverter)}
\DoxyCodeLine{\ \ .doc().get();}
\DoxyCodeLine{\textcolor{keyword}{const}\ post\ =\ postSnap.data();}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ (post\ !==\ \mbox{\hyperlink{get-intrinsic_2index_8js_ae6aa4817f0f49345b718ea6b4abae197}{undefined}})\ \{}
\DoxyCodeLine{\ \ post.title;\ \textcolor{comment}{//\ string}}
\DoxyCodeLine{\ \ post.toString();\ \textcolor{comment}{//\ Should\ be\ defined}}
\DoxyCodeLine{\ \ post.someNonExistentProperty;\ \textcolor{comment}{//\ TS\ error}}
\DoxyCodeLine{\}}

\end{DoxyCode}



\begin{DoxyCodeInclude}{0}

\end{DoxyCodeInclude}
 Semester 3/\+Gamified-\/\+Programming-\/1/backend/node\+\_\+modules/@google\doxylink{_0dgoogle-cloud_2firestore_2build_2src_2index_8js}{-\/cloud/firestore/build/src/index.\+js} 