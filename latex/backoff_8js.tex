\doxysection{backend/node\+\_\+modules/@google-\/cloud/firestore/build/src/backoff.js File Reference}
\hypertarget{backoff_8js}{}\label{backoff_8js}\index{backend/node\_modules/"@google-\/cloud/firestore/build/src/backoff.js@{backend/node\_modules/"@google-\/cloud/firestore/build/src/backoff.js}}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_exponential_backoff}{Exponential\+Backoff}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
function \mbox{\hyperlink{backoff_8js_a48a9261b9b4c8733490aff8aa9044eb4}{set\+Timeout\+Handler}} (handler)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{application_8js_a8192500ed5d08ae60d3778b54729bd51}{use}} \mbox{\hyperlink{backoff_8js_ae2475e10618961c050dcba04e8c42331}{strict}}
\item 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} \mbox{\hyperlink{backoff_8js_a1727468176336c56dc47fc71d05382ea}{Exponential\+Backoff}} = \mbox{\hyperlink{backoff_8js_a4a8b72ba5586f66e0a5b1ca577751265}{exports.\+delay\+Execution}} = \mbox{\hyperlink{backoff_8js_a909680695f31ec7d5a2ec33c8ea708a1}{exports.\+MAX\+\_\+\+RETRY\+\_\+\+ATTEMPTS}} = \mbox{\hyperlink{util_2dist_2index_8cjs_8js_ab8d23b59a7972a2db785d43483d564c5}{exports.\+DEFAULT\+\_\+\+BACKOFF\+\_\+\+FACTOR}} = \mbox{\hyperlink{backoff_8js_a41969cb8c216a397eb38847fd85af2f3}{exports.\+DEFAULT\+\_\+\+BACKOFF\+\_\+\+MAX\+\_\+\+DELAY\+\_\+\+MS}} = \mbox{\hyperlink{backoff_8js_ad6a22f501d34b819d26ea08985aed797}{exports.\+DEFAULT\+\_\+\+BACKOFF\+\_\+\+INITIAL\+\_\+\+DELAY\+\_\+\+MS}} = void 0
\item 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} \mbox{\hyperlink{backoff_8js_ac4a9ce83fa43eeb970d80917260cc11d}{set\+Timeout\+Handler}} = set\+Timeout\+Handler
\item 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \mbox{\hyperlink{backoff_8js_aa6fdd07b218f5ee1f103f79a4ad6d5f1}{logger\+\_\+1}} = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}("{}./logger"{})
\item 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} \mbox{\hyperlink{backoff_8js_ad6a22f501d34b819d26ea08985aed797}{DEFAULT\+\_\+\+BACKOFF\+\_\+\+INITIAL\+\_\+\+DELAY\+\_\+\+MS}} = 1000
\item 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} \mbox{\hyperlink{backoff_8js_a41969cb8c216a397eb38847fd85af2f3}{DEFAULT\+\_\+\+BACKOFF\+\_\+\+MAX\+\_\+\+DELAY\+\_\+\+MS}} = 60 \texorpdfstring{$\ast$}{*} 1000
\item 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} \mbox{\hyperlink{backoff_8js_ab86faf2b5c6369db16ce0755a2341f6b}{DEFAULT\+\_\+\+BACKOFF\+\_\+\+FACTOR}} = 1.\+5
\item 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \mbox{\hyperlink{backoff_8js_a4484a8f89ba5d94007aed34462d6dab2}{DEFAULT\+\_\+\+JITTER\+\_\+\+FACTOR}} = 1.\+0
\item 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} \mbox{\hyperlink{backoff_8js_a909680695f31ec7d5a2ec33c8ea708a1}{MAX\+\_\+\+RETRY\+\_\+\+ATTEMPTS}} = 10
\item 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} \mbox{\hyperlink{backoff_8js_a4a8b72ba5586f66e0a5b1ca577751265}{delay\+Execution}} = set\+Timeout
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{backoff_8js_a48a9261b9b4c8733490aff8aa9044eb4}\index{backoff.js@{backoff.js}!setTimeoutHandler@{setTimeoutHandler}}
\index{setTimeoutHandler@{setTimeoutHandler}!backoff.js@{backoff.js}}
\doxysubsubsection{\texorpdfstring{setTimeoutHandler()}{setTimeoutHandler()}}
{\footnotesize\ttfamily \label{backoff_8js_a48a9261b9b4c8733490aff8aa9044eb4} 
function set\+Timeout\+Handler (\begin{DoxyParamCaption}\item[{}]{handler}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Allows overriding of the timeout handler used by the exponential backoff implementation. If not invoked, we default to {\ttfamily set\+Timeout()}.

Used only in testing. 

References \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}}, \mbox{\hyperlink{uuidv1_8min_8js_a9cf09a2972472098a4c689fd988f4dfc}{f}}, \mbox{\hyperlink{timespan_8js_a4bd9500f2db802231165a0f18e843906}{ms}}, \mbox{\hyperlink{__base_get_tag_8js_a9223501a4f1d046befc3fb8f0bf5c1e4}{Symbol}}, and \mbox{\hyperlink{rxjs_2dist_2cjs_2internal_2operators_2timeout_8js_a56cd1f2498714e800f2da45ee2fd56b7}{timeout}}.



\doxysubsection{Variable Documentation}
\Hypertarget{backoff_8js_ab86faf2b5c6369db16ce0755a2341f6b}\index{backoff.js@{backoff.js}!DEFAULT\_BACKOFF\_FACTOR@{DEFAULT\_BACKOFF\_FACTOR}}
\index{DEFAULT\_BACKOFF\_FACTOR@{DEFAULT\_BACKOFF\_FACTOR}!backoff.js@{backoff.js}}
\doxysubsubsection{\texorpdfstring{DEFAULT\_BACKOFF\_FACTOR}{DEFAULT\_BACKOFF\_FACTOR}}
{\footnotesize\ttfamily \label{backoff_8js_ab86faf2b5c6369db16ce0755a2341f6b} 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} DEFAULT\+\_\+\+BACKOFF\+\_\+\+FACTOR = 1.\+5}

The default factor to increase the backup by after each failed attempt. \Hypertarget{backoff_8js_ad6a22f501d34b819d26ea08985aed797}\index{backoff.js@{backoff.js}!DEFAULT\_BACKOFF\_INITIAL\_DELAY\_MS@{DEFAULT\_BACKOFF\_INITIAL\_DELAY\_MS}}
\index{DEFAULT\_BACKOFF\_INITIAL\_DELAY\_MS@{DEFAULT\_BACKOFF\_INITIAL\_DELAY\_MS}!backoff.js@{backoff.js}}
\doxysubsubsection{\texorpdfstring{DEFAULT\_BACKOFF\_INITIAL\_DELAY\_MS}{DEFAULT\_BACKOFF\_INITIAL\_DELAY\_MS}}
{\footnotesize\ttfamily \label{backoff_8js_ad6a22f501d34b819d26ea08985aed797} 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} DEFAULT\+\_\+\+BACKOFF\+\_\+\+INITIAL\+\_\+\+DELAY\+\_\+\+MS = 1000}

The default initial backoff time in milliseconds after an error. Set to 1s according to \href{https://cloud.google.com/apis/design/errors}{\texttt{ https\+://cloud.\+google.\+com/apis/design/errors}}. \Hypertarget{backoff_8js_a41969cb8c216a397eb38847fd85af2f3}\index{backoff.js@{backoff.js}!DEFAULT\_BACKOFF\_MAX\_DELAY\_MS@{DEFAULT\_BACKOFF\_MAX\_DELAY\_MS}}
\index{DEFAULT\_BACKOFF\_MAX\_DELAY\_MS@{DEFAULT\_BACKOFF\_MAX\_DELAY\_MS}!backoff.js@{backoff.js}}
\doxysubsubsection{\texorpdfstring{DEFAULT\_BACKOFF\_MAX\_DELAY\_MS}{DEFAULT\_BACKOFF\_MAX\_DELAY\_MS}}
{\footnotesize\ttfamily \label{backoff_8js_a41969cb8c216a397eb38847fd85af2f3} 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} DEFAULT\+\_\+\+BACKOFF\+\_\+\+MAX\+\_\+\+DELAY\+\_\+\+MS = 60 \texorpdfstring{$\ast$}{*} 1000}

The default maximum backoff time in milliseconds. \Hypertarget{backoff_8js_a4484a8f89ba5d94007aed34462d6dab2}\index{backoff.js@{backoff.js}!DEFAULT\_JITTER\_FACTOR@{DEFAULT\_JITTER\_FACTOR}}
\index{DEFAULT\_JITTER\_FACTOR@{DEFAULT\_JITTER\_FACTOR}!backoff.js@{backoff.js}}
\doxysubsubsection{\texorpdfstring{DEFAULT\_JITTER\_FACTOR}{DEFAULT\_JITTER\_FACTOR}}
{\footnotesize\ttfamily \label{backoff_8js_a4484a8f89ba5d94007aed34462d6dab2} 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} DEFAULT\+\_\+\+JITTER\+\_\+\+FACTOR = 1.\+0}

The default jitter to distribute the backoff attempts by (0 means no randomization, 1.\+0 means +/-\/50\% randomization). \Hypertarget{backoff_8js_a4a8b72ba5586f66e0a5b1ca577751265}\index{backoff.js@{backoff.js}!delayExecution@{delayExecution}}
\index{delayExecution@{delayExecution}!backoff.js@{backoff.js}}
\doxysubsubsection{\texorpdfstring{delayExecution}{delayExecution}}
{\footnotesize\ttfamily \label{backoff_8js_a4a8b72ba5586f66e0a5b1ca577751265} 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} delay\+Execution = set\+Timeout}

The timeout handler used by {\ttfamily \doxylink{class_exponential_backoff}{Exponential\+Backoff}} and {\ttfamily \doxylink{class_bulk_writer}{Bulk\+Writer}}. \Hypertarget{backoff_8js_a1727468176336c56dc47fc71d05382ea}\index{backoff.js@{backoff.js}!ExponentialBackoff@{ExponentialBackoff}}
\index{ExponentialBackoff@{ExponentialBackoff}!backoff.js@{backoff.js}}
\doxysubsubsection{\texorpdfstring{ExponentialBackoff}{ExponentialBackoff}}
{\footnotesize\ttfamily \label{backoff_8js_a1727468176336c56dc47fc71d05382ea} 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} Exponential\+Backoff = \mbox{\hyperlink{backoff_8js_a4a8b72ba5586f66e0a5b1ca577751265}{exports.\+delay\+Execution}} = \mbox{\hyperlink{backoff_8js_a909680695f31ec7d5a2ec33c8ea708a1}{exports.\+MAX\+\_\+\+RETRY\+\_\+\+ATTEMPTS}} = \mbox{\hyperlink{util_2dist_2index_8cjs_8js_ab8d23b59a7972a2db785d43483d564c5}{exports.\+DEFAULT\+\_\+\+BACKOFF\+\_\+\+FACTOR}} = \mbox{\hyperlink{backoff_8js_a41969cb8c216a397eb38847fd85af2f3}{exports.\+DEFAULT\+\_\+\+BACKOFF\+\_\+\+MAX\+\_\+\+DELAY\+\_\+\+MS}} = \mbox{\hyperlink{backoff_8js_ad6a22f501d34b819d26ea08985aed797}{exports.\+DEFAULT\+\_\+\+BACKOFF\+\_\+\+INITIAL\+\_\+\+DELAY\+\_\+\+MS}} = void 0}

\Hypertarget{backoff_8js_aa6fdd07b218f5ee1f103f79a4ad6d5f1}\index{backoff.js@{backoff.js}!logger\_1@{logger\_1}}
\index{logger\_1@{logger\_1}!backoff.js@{backoff.js}}
\doxysubsubsection{\texorpdfstring{logger\_1}{logger\_1}}
{\footnotesize\ttfamily \label{backoff_8js_aa6fdd07b218f5ee1f103f79a4ad6d5f1} 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} logger\+\_\+1 = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}("{}./logger"{})}

\Hypertarget{backoff_8js_a909680695f31ec7d5a2ec33c8ea708a1}\index{backoff.js@{backoff.js}!MAX\_RETRY\_ATTEMPTS@{MAX\_RETRY\_ATTEMPTS}}
\index{MAX\_RETRY\_ATTEMPTS@{MAX\_RETRY\_ATTEMPTS}!backoff.js@{backoff.js}}
\doxysubsubsection{\texorpdfstring{MAX\_RETRY\_ATTEMPTS}{MAX\_RETRY\_ATTEMPTS}}
{\footnotesize\ttfamily \label{backoff_8js_a909680695f31ec7d5a2ec33c8ea708a1} 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} MAX\+\_\+\+RETRY\+\_\+\+ATTEMPTS = 10}

The maximum number of retries that will be attempted by backoff before stopping all retry attempts. \Hypertarget{backoff_8js_ac4a9ce83fa43eeb970d80917260cc11d}\index{backoff.js@{backoff.js}!setTimeoutHandler@{setTimeoutHandler}}
\index{setTimeoutHandler@{setTimeoutHandler}!backoff.js@{backoff.js}}
\doxysubsubsection{\texorpdfstring{setTimeoutHandler}{setTimeoutHandler}}
{\footnotesize\ttfamily \label{backoff_8js_ac4a9ce83fa43eeb970d80917260cc11d} 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} set\+Timeout\+Handler = set\+Timeout\+Handler}

\Hypertarget{backoff_8js_ae2475e10618961c050dcba04e8c42331}\index{backoff.js@{backoff.js}!strict@{strict}}
\index{strict@{strict}!backoff.js@{backoff.js}}
\doxysubsubsection{\texorpdfstring{strict}{strict}}
{\footnotesize\ttfamily \label{backoff_8js_ae2475e10618961c050dcba04e8c42331} 
\mbox{\hyperlink{application_8js_a8192500ed5d08ae60d3778b54729bd51}{use}} strict}

