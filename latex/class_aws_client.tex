\doxysection{Aws\+Client Class Reference}
\hypertarget{class_aws_client}{}\label{class_aws_client}\index{AwsClient@{AwsClient}}


Inheritance diagram for Aws\+Client\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=225pt]{class_aws_client__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Aws\+Client\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=225pt]{class_aws_client__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_aws_client_a3e42b7a5e41143e94e346b3d1e7deb4d}{constructor}} (options, additional\+Options)
\item 
\mbox{\hyperlink{class_aws_client_abe2b07187ad1d5fd8ee06d3404a80e6a}{validate\+Environment\+Id}} ()
\item 
\mbox{\hyperlink{util_2dist_2index_8cjs_8js_af516a86cc3f563f4c12f98f31f1e2e57}{async}} \mbox{\hyperlink{class_aws_client_a3c3420f9801de6a993be596d4419613d}{retrieve\+Subject\+Token}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
AWS external account client. This is used for AWS workloads, where AWS STS Get\+Caller\+Identity serialized signed requests are exchanged for GCP access token. 

\doxysubsection{Member Function Documentation}
\Hypertarget{class_aws_client_a3e42b7a5e41143e94e346b3d1e7deb4d}\index{AwsClient@{AwsClient}!constructor@{constructor}}
\index{constructor@{constructor}!AwsClient@{AwsClient}}
\doxysubsubsection{\texorpdfstring{constructor()}{constructor()}}
{\footnotesize\ttfamily \label{class_aws_client_a3e42b7a5e41143e94e346b3d1e7deb4d} 
Aws\+Client\+::constructor (\begin{DoxyParamCaption}\item[{}]{options}{, }\item[{}]{additional\+Options}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Instantiates an \doxylink{class_aws_client}{Aws\+Client} instance using the provided JSON object loaded from an external account credentials file. An error is thrown if the credential is not a valid AWS credential. 
\begin{DoxyParams}{Parameters}
{\em options} & The external account options object typically loaded from the external account JSON credential file. \\
\hline
{\em additional\+Options} & {\bfseries{DEPRECATED, all options are available in the {\ttfamily options} parameter.}} Optional additional behavior customization options. These currently customize expiration threshold time and whether to retry on 401/403 API request errors. \\
\hline
\end{DoxyParams}


References \mbox{\hyperlink{awsclient_8js_a447cd4ee0c75db2d366d333c1c6ab92b}{\+\_\+\+\_\+class\+Private\+Field\+Get}}, \mbox{\hyperlink{awsclient_8js_aa581448407a6e09ea2399e6c195c3f53}{\+\_\+a}}, \mbox{\hyperlink{awsclient_8js_a65de343cc4b8d853ec290b8b52f14c32}{\+\_\+\+Aws\+Client\+\_\+\+DEFAULT\+\_\+\+AWS\+\_\+\+REGIONAL\+\_\+\+CREDENTIAL\+\_\+\+VERIFICATION\+\_\+\+URL}}, \mbox{\hyperlink{awsclient_8js_a71ea09b7cc21e26b1d18c930e4ed501d}{defaultawssecuritycredentialssupplier\+\_\+1}}, \mbox{\hyperlink{awsclient_8js_a6af3fa6e24c6a46faf4552f3a2ad8783}{util\+\_\+1}}, and \mbox{\hyperlink{class_aws_client_abe2b07187ad1d5fd8ee06d3404a80e6a}{validate\+Environment\+Id()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_aws_client_a3e42b7a5e41143e94e346b3d1e7deb4d_cgraph}
\end{center}
\end{figure}
\Hypertarget{class_aws_client_a3c3420f9801de6a993be596d4419613d}\index{AwsClient@{AwsClient}!retrieveSubjectToken@{retrieveSubjectToken}}
\index{retrieveSubjectToken@{retrieveSubjectToken}!AwsClient@{AwsClient}}
\doxysubsubsection{\texorpdfstring{retrieveSubjectToken()}{retrieveSubjectToken()}}
{\footnotesize\ttfamily \label{class_aws_client_a3c3420f9801de6a993be596d4419613d} 
\mbox{\hyperlink{util_2dist_2index_8cjs_8js_af516a86cc3f563f4c12f98f31f1e2e57}{async}} Aws\+Client\+::retrieve\+Subject\+Token (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Triggered when an external subject token is needed to be exchanged for a GCP access token via GCP STS endpoint. This will call the {\ttfamily \doxylink{}{Aws\+Security\+Credentials\+Supplier}} to retrieve an AWS region and AWS Security Credentials, then use them to create a signed AWS STS request that can be exchanged for a GCP access token. \begin{DoxyReturn}{Returns}
\doxylink{class_a}{A} promise that resolves with the external subject token. 
\end{DoxyReturn}


References \mbox{\hyperlink{util_2dist_2index_8cjs_8js_af516a86cc3f563f4c12f98f31f1e2e57}{async}}, \mbox{\hyperlink{awsclient_8js_a1c3842197ccd789c879f80bc6ba8197a}{awsrequestsigner\+\_\+1}}, \mbox{\hyperlink{json-bigint_2lib_2stringify_8js_aec316efdeb7b2e5358b7d50869858da1}{JSON}}, \mbox{\hyperlink{lodash_2method_8js_a2f565198b0a61cb8648a01f0d9617cd7}{method}}, \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_acf0a8b41f00a22e21672c8b3768a0618}{url}}, and \mbox{\hyperlink{get-intrinsic_2index_8js_aacce635d68067370c70caa2381ea1040}{value}}.

\Hypertarget{class_aws_client_abe2b07187ad1d5fd8ee06d3404a80e6a}\index{AwsClient@{AwsClient}!validateEnvironmentId@{validateEnvironmentId}}
\index{validateEnvironmentId@{validateEnvironmentId}!AwsClient@{AwsClient}}
\doxysubsubsection{\texorpdfstring{validateEnvironmentId()}{validateEnvironmentId()}}
{\footnotesize\ttfamily \label{class_aws_client_abe2b07187ad1d5fd8ee06d3404a80e6a} 
Aws\+Client\+::validate\+Environment\+Id (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



References \mbox{\hyperlink{form_8js_ab63a7754967c678e14c9ece9cf96be37}{\$}}, \mbox{\hyperlink{logging_8js_a53284eb14d953f3ba58806fc49cd4f7c}{\+\_\+b}}, \mbox{\hyperlink{json2xml_8js_afd7069a038833939f6e16fa1a47f3ac1}{build}}, \mbox{\hyperlink{uuid_8min_8js_aeb337d295abaddb5ec3cb34cc2e2bbc9}{d}}, \mbox{\hyperlink{express_2lib_2request_8js_a5e3afd97276cc403924d1a449a83ea84}{is}}, \mbox{\hyperlink{layer_8js_aee433120cbb9ab29eb32064146e11ef5}{match}}, \mbox{\hyperlink{long_2index_8js_ad7dc44f0ebdb746f4a5b0612ae9315cb}{not}}, \mbox{\hyperlink{parse_int_8js_a04ee837a5f7721fcb0ea2d152162ef92}{parse\+Int()}}, and \mbox{\hyperlink{database-compat_2dist_2index_8esm2017_8js_a265a39dcf2f0b7c6b96574362aa01ad9}{version}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=331pt]{class_aws_client_abe2b07187ad1d5fd8ee06d3404a80e6a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_aws_client_abe2b07187ad1d5fd8ee06d3404a80e6a_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
backend/node\+\_\+modules/google-\/auth-\/library/build/src/auth/\mbox{\hyperlink{awsclient_8js}{awsclient.\+js}}\end{DoxyCompactItemize}
