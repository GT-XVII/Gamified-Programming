\doxysection{Paged\+Api\+Caller Class Reference}
\hypertarget{class_paged_api_caller}{}\label{class_paged_api_caller}\index{PagedApiCaller@{PagedApiCaller}}


Collaboration diagram for Paged\+Api\+Caller\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=250pt]{class_paged_api_caller__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_paged_api_caller_a7070246f9224a4c59b73c566f974ab76}{generate\+Parse\+Response\+Callback}} (\mbox{\hyperlink{_0dgoogle-cloud_2storage_2build_2esm_2src_2nodejs-common_2util_8js_a5e81a74b5b19c1557ba165296dc2d3da}{request}}, \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a622460feeccdab6d8f307936fc6b36fb}{callback}})
\item 
\mbox{\hyperlink{class_paged_api_caller_a07bd00d0e94d5eb70aa8352fceacecf2}{wrap}} (\mbox{\hyperlink{fp_2add_8js_a1ba8e806628b2f512d93819d64d86db9}{func}})
\item 
\mbox{\hyperlink{class_paged_api_caller_ad05b5a8f9b569e5d50ae51eea4c590a5}{init}} (\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a622460feeccdab6d8f307936fc6b36fb}{callback}})
\item 
\mbox{\hyperlink{class_paged_api_caller_a007fc7024ac724c66c6b05a26f819a75}{call}} (api\+Call, \mbox{\hyperlink{_0dgoogle-cloud_2storage_2build_2esm_2src_2nodejs-common_2util_8js_a5e81a74b5b19c1557ba165296dc2d3da}{request}}, settings, ongoing\+Call)
\item 
\mbox{\hyperlink{class_paged_api_caller_abc11bd93ebb410706922285beecbab7a}{fail}} (ongoing\+Call, err)
\item 
\mbox{\hyperlink{class_paged_api_caller_aeb4c7bf532792f5835ae1daa607137e4}{result}} (ongoing\+Call)
\end{DoxyCompactItemize}
\doxysubsubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_paged_api_caller_a14b9c29073180f968f4300bf09c8cace}{constructor}} (page\+Descriptor)
\end{DoxyCompactItemize}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_paged_api_caller_a007fc7024ac724c66c6b05a26f819a75}\index{PagedApiCaller@{PagedApiCaller}!call@{call}}
\index{call@{call}!PagedApiCaller@{PagedApiCaller}}
\doxysubsubsection{\texorpdfstring{call()}{call()}}
{\footnotesize\ttfamily \label{class_paged_api_caller_a007fc7024ac724c66c6b05a26f819a75} 
Paged\+Api\+Caller\+::call (\begin{DoxyParamCaption}\item[{}]{api\+Call}{, }\item[{}]{request}{, }\item[{}]{settings}{, }\item[{}]{ongoing\+Call}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Implements auto-\/pagination logic.


\begin{DoxyParams}{Parameters}
{\em api\+Call} & \doxylink{class_a}{A} function that performs g\+RPC request and calls its callback with a response or an error. It\textquotesingle{}s supposed to be a g\+RPC service stub function wrapped into several layers of wrappers that make it accept just two parameters\+: (request, callback). \\
\hline
{\em request} & \doxylink{class_a}{A} request object that came from the user. \\
\hline
{\em settings} & Call settings. We are interested in {\ttfamily max\+Results} and {\ttfamily auto\+Paginate} (they are optional). \\
\hline
{\em ongoing\+Call} & An instance of \doxylink{class_ongoing_call}{Ongoing\+Call} or \doxylink{class_ongoing_call_promise}{Ongoing\+Call\+Promise} that can be used for call cancellation, and is used to return results to the user. \\
\hline
\end{DoxyParams}


References \mbox{\hyperlink{_0dgoogle-cloud_2storage_2build_2esm_2src_2nodejs-common_2util_8js_a5e81a74b5b19c1557ba165296dc2d3da}{request}}, and \mbox{\hyperlink{paged_api_caller_8js_abef0b3a2418106f04b914f8cf80614f9}{resource\+Collector\+\_\+1}}.

\Hypertarget{class_paged_api_caller_a14b9c29073180f968f4300bf09c8cace}\index{PagedApiCaller@{PagedApiCaller}!constructor@{constructor}}
\index{constructor@{constructor}!PagedApiCaller@{PagedApiCaller}}
\doxysubsubsection{\texorpdfstring{constructor()}{constructor()}}
{\footnotesize\ttfamily \label{class_paged_api_caller_a14b9c29073180f968f4300bf09c8cace} 
Paged\+Api\+Caller\+::constructor (\begin{DoxyParamCaption}\item[{}]{page\+Descriptor}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

Creates an API caller that returns a stream to performs page-\/streaming.

@constructor 
\begin{DoxyParams}{Parameters}
{\em \{\+Page\+Descriptor\}} & page\+Descriptor -\/ indicates the structure of page streaming to be performed. \\
\hline
\end{DoxyParams}
\Hypertarget{class_paged_api_caller_abc11bd93ebb410706922285beecbab7a}\index{PagedApiCaller@{PagedApiCaller}!fail@{fail}}
\index{fail@{fail}!PagedApiCaller@{PagedApiCaller}}
\doxysubsubsection{\texorpdfstring{fail()}{fail()}}
{\footnotesize\ttfamily \label{class_paged_api_caller_abc11bd93ebb410706922285beecbab7a} 
Paged\+Api\+Caller\+::fail (\begin{DoxyParamCaption}\item[{}]{ongoing\+Call}{, }\item[{}]{err}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{class_paged_api_caller_a7070246f9224a4c59b73c566f974ab76}\index{PagedApiCaller@{PagedApiCaller}!generateParseResponseCallback@{generateParseResponseCallback}}
\index{generateParseResponseCallback@{generateParseResponseCallback}!PagedApiCaller@{PagedApiCaller}}
\doxysubsubsection{\texorpdfstring{generateParseResponseCallback()}{generateParseResponseCallback()}}
{\footnotesize\ttfamily \label{class_paged_api_caller_a7070246f9224a4c59b73c566f974ab76} 
Paged\+Api\+Caller\+::generate\+Parse\+Response\+Callback (\begin{DoxyParamCaption}\item[{}]{request}{, }\item[{}]{callback}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

This function translates between regular g\+RPC calls (that accepts a request and returns a response, and does not know anything about pages and page tokens) and the users\textquotesingle{} callback (that expects to see resources from one page, a request to get the next page, and the raw response from the server).

It generates a function that can be passed as a callback function to a g\+RPC call, will understand pagination-\/specific fields in the response, and call the users\textquotesingle{} callback after having those fields parsed.


\begin{DoxyParams}{Parameters}
{\em request} & \doxylink{class_request}{Request} object. It needs to be passed to all subsequent next page requests (the main content of the request object stays unchanged, only the next page token changes) \\
\hline
{\em callback} & The user\textquotesingle{}s callback that expects the page content, next page request, and raw response. \\
\hline
\end{DoxyParams}


References \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a622460feeccdab6d8f307936fc6b36fb}{callback}}, \mbox{\hyperlink{paged_api_caller_8js_af543d951cd813de4cca338839a98ab32}{google\+Error\+\_\+1}}, \mbox{\hyperlink{_0dgoogle-cloud_2storage_2build_2esm_2src_2nodejs-common_2util_8js_a5e81a74b5b19c1557ba165296dc2d3da}{request}}, and \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_ac70ac40ef8199c59316b35022dd21914}{response}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_paged_api_caller_a7070246f9224a4c59b73c566f974ab76_icgraph}
\end{center}
\end{figure}
\Hypertarget{class_paged_api_caller_ad05b5a8f9b569e5d50ae51eea4c590a5}\index{PagedApiCaller@{PagedApiCaller}!init@{init}}
\index{init@{init}!PagedApiCaller@{PagedApiCaller}}
\doxysubsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily \label{class_paged_api_caller_ad05b5a8f9b569e5d50ae51eea4c590a5} 
Paged\+Api\+Caller\+::init (\begin{DoxyParamCaption}\item[{}]{callback}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Makes it possible to use both callback-\/based and promise-\/based calls. Returns an \doxylink{class_ongoing_call}{Ongoing\+Call} or \doxylink{class_ongoing_call_promise}{Ongoing\+Call\+Promise} object. Regardless of which one is returned, it always has a {\ttfamily .callback} to call.


\begin{DoxyParams}{Parameters}
{\em settings} & Call settings. Can only be used to replace Promise with another promise implementation. \\
\hline
{\em \mbox{[}callback\mbox{]}} & Callback to be called, if any. \\
\hline
\end{DoxyParams}


References \mbox{\hyperlink{paged_api_caller_8js_afc6e071a176023bc20bb574c24d93385}{call\+\_\+1}}, and \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a622460feeccdab6d8f307936fc6b36fb}{callback}}.

\Hypertarget{class_paged_api_caller_aeb4c7bf532792f5835ae1daa607137e4}\index{PagedApiCaller@{PagedApiCaller}!result@{result}}
\index{result@{result}!PagedApiCaller@{PagedApiCaller}}
\doxysubsubsection{\texorpdfstring{result()}{result()}}
{\footnotesize\ttfamily \label{class_paged_api_caller_aeb4c7bf532792f5835ae1daa607137e4} 
Paged\+Api\+Caller\+::result (\begin{DoxyParamCaption}\item[{}]{ongoing\+Call}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{class_paged_api_caller_a07bd00d0e94d5eb70aa8352fceacecf2}\index{PagedApiCaller@{PagedApiCaller}!wrap@{wrap}}
\index{wrap@{wrap}!PagedApiCaller@{PagedApiCaller}}
\doxysubsubsection{\texorpdfstring{wrap()}{wrap()}}
{\footnotesize\ttfamily \label{class_paged_api_caller_a07bd00d0e94d5eb70aa8352fceacecf2} 
Paged\+Api\+Caller\+::wrap (\begin{DoxyParamCaption}\item[{}]{func}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Adds a special ability to understand pagination-\/specific fields to the existing g\+RPC call. The original g\+RPC call just calls \doxylink{database-compat_2dist_2index_8standalone_8js_a622460feeccdab6d8f307936fc6b36fb}{callback(err, result)}. The wrapped one will call \doxylink{database-compat_2dist_2index_8standalone_8js_a622460feeccdab6d8f307936fc6b36fb}{callback(err, resources, next\+Page\+Request, raw\+Response)} instead.


\begin{DoxyParams}{Parameters}
{\em func} & g\+RPC call (normally, a service stub call). The g\+RPC call is expected to accept four parameters\+: request, metadata, call options, and callback. \\
\hline
\end{DoxyParams}


References \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a622460feeccdab6d8f307936fc6b36fb}{callback}}, \mbox{\hyperlink{fp_2add_8js_a1ba8e806628b2f512d93819d64d86db9}{func}}, and \mbox{\hyperlink{class_paged_api_caller_a7070246f9224a4c59b73c566f974ab76}{generate\+Parse\+Response\+Callback()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_paged_api_caller_a07bd00d0e94d5eb70aa8352fceacecf2_cgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
backend/node\+\_\+modules/google-\/gax/build/src/pagination\+Calls/\mbox{\hyperlink{paged_api_caller_8js}{paged\+Api\+Caller.\+js}}\end{DoxyCompactItemize}
