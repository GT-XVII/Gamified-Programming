\doxysection{Write\+Batch Class Reference}
\hypertarget{class_write_batch}{}\label{class_write_batch}\index{WriteBatch@{WriteBatch}}


Collaboration diagram for Write\+Batch\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=192pt]{class_write_batch__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_write_batch_ad2109e1a84e6496e196f35b729237c3e}{create}} (document\+Ref, \mbox{\hyperlink{_0dprotobufjs_2utf8_2tests_2index_8js_a606a87425a3a6c440c6fdcbfb72c9b68}{data}})
\item 
\mbox{\hyperlink{class_write_batch_a2d20f4426f428bf3174075bcc1d518d2}{delete}} (document\+Ref, precondition)
\item 
\mbox{\hyperlink{class_write_batch_a0e54566679db7163985e6130ef3424d1}{set}} (document\+Ref, \mbox{\hyperlink{_0dprotobufjs_2utf8_2tests_2index_8js_a606a87425a3a6c440c6fdcbfb72c9b68}{data}}, options)
\item 
\mbox{\hyperlink{class_write_batch_a9d34a1d88092deba38a83ae935b9ac4d}{update}} (document\+Ref, data\+Or\+Field,...precondition\+Or\+Values)
\item 
\mbox{\hyperlink{class_write_batch_a4036a4aff125acfd61a5aa4d474373a3}{commit}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{response_8js_a10d7f5ef6343bd4575249458cf93dd3e}{get}} \mbox{\hyperlink{class_write_batch_a09439069d7c6c0b124b2b6bf95a4f65f}{\+\_\+op\+Count}} ()
\item 
\mbox{\hyperlink{class_write_batch_a281d0e1d27347bfb1fd88b41a6170acc}{constructor}} (\mbox{\hyperlink{firestore-namespace_8js_a6c18541a3018cee632d7e797bb983f36}{firestore}})
\item 
\mbox{\hyperlink{response_8js_a10d7f5ef6343bd4575249458cf93dd3e}{get}} \mbox{\hyperlink{class_write_batch_a45d7549b030dc140779868462ac2ace4}{is\+Empty}} ()
\item 
\mbox{\hyperlink{class_write_batch_a76cdd4d3d3b0308dea2960e9fc090dce}{verify\+Not\+Committed}} ()
\item 
\mbox{\hyperlink{util_2dist_2index_8cjs_8js_af516a86cc3f563f4c12f98f31f1e2e57}{async}} \mbox{\hyperlink{class_write_batch_ae9369fe2baa6f6efe1e5cf219e83e825}{\+\_\+commit}} (commit\+Options)
\item 
\mbox{\hyperlink{class_write_batch_a157b2e9aec8a4ba0211b8aea10aae483}{\+\_\+reset}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxylink{class_a}{A} \doxylink{class_firestore}{Firestore} \doxylink{class_write_batch}{Write\+Batch} that can be used to atomically commit multiple write operations at once. 

\doxysubsection{Member Function Documentation}
\Hypertarget{class_write_batch_ae9369fe2baa6f6efe1e5cf219e83e825}\index{WriteBatch@{WriteBatch}!\_commit@{\_commit}}
\index{\_commit@{\_commit}!WriteBatch@{WriteBatch}}
\doxysubsubsection{\texorpdfstring{\_commit()}{\_commit()}}
{\footnotesize\ttfamily \label{class_write_batch_ae9369fe2baa6f6efe1e5cf219e83e825} 
\mbox{\hyperlink{util_2dist_2index_8cjs_8js_af516a86cc3f563f4c12f98f31f1e2e57}{async}} Write\+Batch\+::\+\_\+commit (\begin{DoxyParamCaption}\item[{}]{commit\+Options}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

Commit method that takes an optional transaction ID. 

References \mbox{\hyperlink{logger_2dist_2esm_2index_8esm5_8js_a0adf123df8967a14b5bdd9ff3bbe2d0c}{\+\_\+a}}, \mbox{\hyperlink{firestore-namespace_8js_a0ea74ea11566bd0d53855253d2003d02}{\+\_\+firestore}}, \mbox{\hyperlink{_0dfirebase_2database-compat_2dist_2index_8js_a7d2d4a94c06389308b8c8b273f66f009}{database}}, \mbox{\hyperlink{write-batch_8js_aa6fdd07b218f5ee1f103f79a4ad6d5f1}{logger\+\_\+1}}, \mbox{\hyperlink{_0dgoogle-cloud_2storage_2build_2esm_2src_2nodejs-common_2util_8js_a5e81a74b5b19c1557ba165296dc2d3da}{request}}, and \mbox{\hyperlink{write-batch_8js_a6af3fa6e24c6a46faf4552f3a2ad8783}{util\+\_\+1}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{class_write_batch_ae9369fe2baa6f6efe1e5cf219e83e825_icgraph}
\end{center}
\end{figure}
\Hypertarget{class_write_batch_a09439069d7c6c0b124b2b6bf95a4f65f}\index{WriteBatch@{WriteBatch}!\_opCount@{\_opCount}}
\index{\_opCount@{\_opCount}!WriteBatch@{WriteBatch}}
\doxysubsubsection{\texorpdfstring{\_opCount()}{\_opCount()}}
{\footnotesize\ttfamily \label{class_write_batch_a09439069d7c6c0b124b2b6bf95a4f65f} 
\mbox{\hyperlink{response_8js_a10d7f5ef6343bd4575249458cf93dd3e}{get}} Write\+Batch\+::\+\_\+op\+Count (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

The number of writes in this batch. Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{class_write_batch_a09439069d7c6c0b124b2b6bf95a4f65f_icgraph}
\end{center}
\end{figure}
\Hypertarget{class_write_batch_a157b2e9aec8a4ba0211b8aea10aae483}\index{WriteBatch@{WriteBatch}!\_reset@{\_reset}}
\index{\_reset@{\_reset}!WriteBatch@{WriteBatch}}
\doxysubsubsection{\texorpdfstring{\_reset()}{\_reset()}}
{\footnotesize\ttfamily \label{class_write_batch_a157b2e9aec8a4ba0211b8aea10aae483} 
Write\+Batch\+::\+\_\+reset (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

Resets the \doxylink{class_write_batch}{Write\+Batch} and dequeues all pending operations. \Hypertarget{class_write_batch_a4036a4aff125acfd61a5aa4d474373a3}\index{WriteBatch@{WriteBatch}!commit@{commit}}
\index{commit@{commit}!WriteBatch@{WriteBatch}}
\doxysubsubsection{\texorpdfstring{commit()}{commit()}}
{\footnotesize\ttfamily \label{class_write_batch_a4036a4aff125acfd61a5aa4d474373a3} 
Write\+Batch\+::commit (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



References \mbox{\hyperlink{class_write_batch_ae9369fe2baa6f6efe1e5cf219e83e825}{\+\_\+commit()}}, \mbox{\hyperlink{firestore-namespace_8js_a0ea74ea11566bd0d53855253d2003d02}{\+\_\+firestore}}, \mbox{\hyperlink{class_write_batch_a09439069d7c6c0b124b2b6bf95a4f65f}{\+\_\+op\+Count()}}, \mbox{\hyperlink{util_2dist_2index_8cjs_8js_af516a86cc3f563f4c12f98f31f1e2e57}{async}}, \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_ac70ac40ef8199c59316b35022dd21914}{response}}, \mbox{\hyperlink{pledge_8js_a492a4eb4b80e71a1bb4761df42875565}{then}}, \mbox{\hyperlink{write-batch_8js_ade04b24e14507564885ddbb231b3fc20}{timestamp\+\_\+1}}, \mbox{\hyperlink{write-batch_8js_a95595af408c99329f2c923e26c08df94}{trace\+\_\+util\+\_\+1}}, \mbox{\hyperlink{write-batch_8js_a6af3fa6e24c6a46faf4552f3a2ad8783}{util\+\_\+1}}, and \mbox{\hyperlink{write-batch_8js_aee2eb93aa0037d0f22977eafa3fc21f5}{Write\+Result}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{class_write_batch_a4036a4aff125acfd61a5aa4d474373a3_cgraph}
\end{center}
\end{figure}
\Hypertarget{class_write_batch_a281d0e1d27347bfb1fd88b41a6170acc}\index{WriteBatch@{WriteBatch}!constructor@{constructor}}
\index{constructor@{constructor}!WriteBatch@{WriteBatch}}
\doxysubsubsection{\texorpdfstring{constructor()}{constructor()}}
{\footnotesize\ttfamily \label{class_write_batch_a281d0e1d27347bfb1fd88b41a6170acc} 
Write\+Batch\+::constructor (\begin{DoxyParamCaption}\item[{}]{firestore}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

An array of document paths and the corresponding write operations that are executed as part of the commit. The resulting {\ttfamily api.\+IWrite} will be sent to the backend.

References \mbox{\hyperlink{firestore-namespace_8js_a0ea74ea11566bd0d53855253d2003d02}{\+\_\+firestore}}, \mbox{\hyperlink{firestore-namespace_8js_a6c18541a3018cee632d7e797bb983f36}{firestore}}, and \mbox{\hyperlink{write-batch_8js_a2565df6a8c5758c17516b3aba038db3c}{serializer\+\_\+1}}.

\Hypertarget{class_write_batch_ad2109e1a84e6496e196f35b729237c3e}\index{WriteBatch@{WriteBatch}!create@{create}}
\index{create@{create}!WriteBatch@{WriteBatch}}
\doxysubsubsection{\texorpdfstring{create()}{create()}}
{\footnotesize\ttfamily \label{class_write_batch_ad2109e1a84e6496e196f35b729237c3e} 
Write\+Batch\+::create (\begin{DoxyParamCaption}\item[{}]{document\+Ref}{, }\item[{}]{data}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



References \mbox{\hyperlink{_0dprotobufjs_2utf8_2tests_2index_8js_a606a87425a3a6c440c6fdcbfb72c9b68}{data}}, \mbox{\hyperlink{write-batch_8js_a0d8248e7d9115839596aa13782b68637}{document\+\_\+1}}, \mbox{\hyperlink{write-batch_8js_ad6213df108db4b676327c4ab965d94fc}{helpers\+\_\+1}}, \mbox{\hyperlink{is-stream_2index_8js_a2d5c6d4aa2bc7fd81424482fffdb2c57}{transform}}, \mbox{\hyperlink{write-batch_8js_ae96c793b1ec5e93fa811ab10b0b5cfbd}{validate\+Document\+Data}}, \mbox{\hyperlink{class_write_batch_a76cdd4d3d3b0308dea2960e9fc090dce}{verify\+Not\+Committed()}}, and \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a355f75ff9c8abb4bda3db7af40f2ee4a}{write}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_write_batch_ad2109e1a84e6496e196f35b729237c3e_cgraph}
\end{center}
\end{figure}
\Hypertarget{class_write_batch_a2d20f4426f428bf3174075bcc1d518d2}\index{WriteBatch@{WriteBatch}!delete@{delete}}
\index{delete@{delete}!WriteBatch@{WriteBatch}}
\doxysubsubsection{\texorpdfstring{delete()}{delete()}}
{\footnotesize\ttfamily \label{class_write_batch_a2d20f4426f428bf3174075bcc1d518d2} 
Write\+Batch\+::delete (\begin{DoxyParamCaption}\item[{}]{document\+Ref}{, }\item[{}]{precondition}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



References \mbox{\hyperlink{write-batch_8js_a0d8248e7d9115839596aa13782b68637}{document\+\_\+1}}, \mbox{\hyperlink{write-batch_8js_ad6213df108db4b676327c4ab965d94fc}{helpers\+\_\+1}}, \mbox{\hyperlink{write-batch_8js_a827b6ce2f59d5a7657200c934dc7a648}{validate\+Delete\+Precondition()}}, \mbox{\hyperlink{class_write_batch_a76cdd4d3d3b0308dea2960e9fc090dce}{verify\+Not\+Committed()}}, and \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a355f75ff9c8abb4bda3db7af40f2ee4a}{write}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_write_batch_a2d20f4426f428bf3174075bcc1d518d2_cgraph}
\end{center}
\end{figure}
\Hypertarget{class_write_batch_a45d7549b030dc140779868462ac2ace4}\index{WriteBatch@{WriteBatch}!isEmpty@{isEmpty}}
\index{isEmpty@{isEmpty}!WriteBatch@{WriteBatch}}
\doxysubsubsection{\texorpdfstring{isEmpty()}{isEmpty()}}
{\footnotesize\ttfamily \label{class_write_batch_a45d7549b030dc140779868462ac2ace4} 
\mbox{\hyperlink{response_8js_a10d7f5ef6343bd4575249458cf93dd3e}{get}} Write\+Batch\+::is\+Empty (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

Checks if this write batch has any pending operations. \Hypertarget{class_write_batch_a0e54566679db7163985e6130ef3424d1}\index{WriteBatch@{WriteBatch}!set@{set}}
\index{set@{set}!WriteBatch@{WriteBatch}}
\doxysubsubsection{\texorpdfstring{set()}{set()}}
{\footnotesize\ttfamily \label{class_write_batch_a0e54566679db7163985e6130ef3424d1} 
Write\+Batch\+::set (\begin{DoxyParamCaption}\item[{}]{document\+Ref}{, }\item[{}]{data}{, }\item[{}]{options}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



References \mbox{\hyperlink{_0dprotobufjs_2utf8_2tests_2index_8js_a606a87425a3a6c440c6fdcbfb72c9b68}{data}}, \mbox{\hyperlink{write-batch_8js_a0d8248e7d9115839596aa13782b68637}{document\+\_\+1}}, \mbox{\hyperlink{write-batch_8js_ad6213df108db4b676327c4ab965d94fc}{helpers\+\_\+1}}, \mbox{\hyperlink{is-stream_2index_8js_a2d5c6d4aa2bc7fd81424482fffdb2c57}{transform}}, \mbox{\hyperlink{write-batch_8js_ae96c793b1ec5e93fa811ab10b0b5cfbd}{validate\+Document\+Data}}, \mbox{\hyperlink{write-batch_8js_aaa8254cadf12018bf9678c4257eace9b}{validate\+Set\+Options}}, \mbox{\hyperlink{class_write_batch_a76cdd4d3d3b0308dea2960e9fc090dce}{verify\+Not\+Committed()}}, and \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a355f75ff9c8abb4bda3db7af40f2ee4a}{write}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_write_batch_a0e54566679db7163985e6130ef3424d1_cgraph}
\end{center}
\end{figure}
\Hypertarget{class_write_batch_a9d34a1d88092deba38a83ae935b9ac4d}\index{WriteBatch@{WriteBatch}!update@{update}}
\index{update@{update}!WriteBatch@{WriteBatch}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily \label{class_write_batch_a9d34a1d88092deba38a83ae935b9ac4d} 
Write\+Batch\+::update (\begin{DoxyParamCaption}\item[{}]{document\+Ref}{, }\item[{}]{data\+Or\+Field}{, }\item[{}]{...}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



References \mbox{\hyperlink{form_8js_ab63a7754967c678e14c9ece9cf96be37}{\$}}, \mbox{\hyperlink{write-batch_8js_a0d8248e7d9115839596aa13782b68637}{document\+\_\+1}}, \mbox{\hyperlink{write-batch_8js_ad6213df108db4b676327c4ab965d94fc}{helpers\+\_\+1}}, \mbox{\hyperlink{ipaddr_8min_8js_a7e98b8a17c0aad30ba64d47b74e2a6c1}{i}}, \mbox{\hyperlink{write-batch_8js_aa6fdd07b218f5ee1f103f79a4ad6d5f1}{logger\+\_\+1}}, \mbox{\hyperlink{__get_tag_8js_aa38772edcc6ff00766e19b36ce8073a8}{Map}}, \mbox{\hyperlink{write-batch_8js_a705fe9bf53f002be551bde47cc3a6069}{path\+\_\+1}}, \mbox{\hyperlink{is-stream_2index_8js_a2d5c6d4aa2bc7fd81424482fffdb2c57}{transform}}, \mbox{\hyperlink{get-intrinsic_2index_8js_ae6aa4817f0f49345b718ea6b4abae197}{undefined}}, \mbox{\hyperlink{write-batch_8js_aa37716c5385ffbe958d12dba0dab85f8}{validate\+\_\+1}}, \mbox{\hyperlink{write-batch_8js_a94d5eb65ed7ddd9616af6dc56d0bbe13}{validate\+Field\+Value}}, \mbox{\hyperlink{write-batch_8js_afbb21328ca11d6041086cc9849a3997c}{validate\+No\+Conflicting\+Fields()}}, \mbox{\hyperlink{write-batch_8js_af6030e6b9636a56cb491083573492561}{validate\+Update\+Map()}}, \mbox{\hyperlink{write-batch_8js_a2c4e6fceacfe5d95ce1fdfbc9cbcf7b0}{validate\+Update\+Precondition()}}, \mbox{\hyperlink{get-intrinsic_2index_8js_aacce635d68067370c70caa2381ea1040}{value}}, \mbox{\hyperlink{class_write_batch_a76cdd4d3d3b0308dea2960e9fc090dce}{verify\+Not\+Committed()}}, and \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a355f75ff9c8abb4bda3db7af40f2ee4a}{write}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_write_batch_a9d34a1d88092deba38a83ae935b9ac4d_cgraph}
\end{center}
\end{figure}
\Hypertarget{class_write_batch_a76cdd4d3d3b0308dea2960e9fc090dce}\index{WriteBatch@{WriteBatch}!verifyNotCommitted@{verifyNotCommitted}}
\index{verifyNotCommitted@{verifyNotCommitted}!WriteBatch@{WriteBatch}}
\doxysubsubsection{\texorpdfstring{verifyNotCommitted()}{verifyNotCommitted()}}
{\footnotesize\ttfamily \label{class_write_batch_a76cdd4d3d3b0308dea2960e9fc090dce} 
Write\+Batch\+::verify\+Not\+Committed (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

Throws an error if this batch has already been committed. Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_write_batch_a76cdd4d3d3b0308dea2960e9fc090dce_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
backend/node\+\_\+modules/@google-\/cloud/firestore/build/src/\mbox{\hyperlink{write-batch_8js}{write-\/batch.\+js}}\end{DoxyCompactItemize}
