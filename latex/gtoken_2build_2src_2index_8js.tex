\doxysection{backend/node\+\_\+modules/gtoken/build/src/index.js File Reference}
\hypertarget{gtoken_2build_2src_2index_8js}{}\label{gtoken_2build_2src_2index_8js}\index{backend/node\_modules/gtoken/build/src/index.js@{backend/node\_modules/gtoken/build/src/index.js}}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{application_8js_a8192500ed5d08ae60d3778b54729bd51}{use}} \mbox{\hyperlink{gtoken_2build_2src_2index_8js_ae2475e10618961c050dcba04e8c42331}{strict}}
\item 
var \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a447cd4ee0c75db2d366d333c1c6ab92b}{\+\_\+\+\_\+class\+Private\+Field\+Get}}
\item 
var \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a9c0a3b4ec16c0e88e32e52464cf3423e}{\+\_\+\+\_\+class\+Private\+Field\+Set}}
\item 
var \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a253bef46446d0b44a8f2c391409d5eb8}{\+\_\+\+Google\+Token\+\_\+instances}} = new Weak\+Set()
\item 
var \mbox{\hyperlink{gtoken_2build_2src_2index_8js_aca354e7522200af249ee6e3fa488b4e1}{\+\_\+\+Google\+Token\+\_\+in\+Flight\+Request}} = new \mbox{\hyperlink{__get_tag_8js_a7a0af2b1504d35a612ef29c54dcdef19}{Weak\+Map}}()
\item 
var \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a2cfb6417c1a5ffe9b8bcd15102f0908d}{\+\_\+\+Google\+Token\+\_\+get\+Token\+Async}}
\item 
var \mbox{\hyperlink{gtoken_2build_2src_2index_8js_ae137b28f00d87172ed0e3eea9987ec21}{\+\_\+\+Google\+Token\+\_\+get\+Token\+Async\+Inner}}
\item 
var \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a64a31ee509b09c412c551de88f55102b}{\+\_\+\+Google\+Token\+\_\+ensure\+Email}}
\item 
var \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a574cc6052ed35835a5ed0ce5e16d7b5b}{\+\_\+\+Google\+Token\+\_\+revoke\+Token\+Async}}
\item 
var \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a863f2762b036c958845fcc9c25605ae5}{\+\_\+\+Google\+Token\+\_\+configure}}
\item 
var \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a236d6dab11e18fbd8a7187cdade56f8a}{\+\_\+\+Google\+Token\+\_\+request\+Token}}
\item 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a11f48d885442e6f4247b20c22e759087}{Google\+Token}} = void 0
\item 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a2e47e1f004220675d0fa39b8255bd78f}{fs}} = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}("{}fs"{})
\item 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \mbox{\hyperlink{gtoken_2build_2src_2index_8js_acebd772c433354e36a6a4a6f15b56286}{gaxios\+\_\+1}} = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}("{}gaxios"{})
\item 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a3877814942bfa89ef869ee7db0482845}{jws}} = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}("{}jws"{})
\item 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a1fdc7709faf62dce60620fb3f9d3453c}{path}} = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}("{}path"{})
\item 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a6af3fa6e24c6a46faf4552f3a2ad8783}{util\+\_\+1}} = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}("{}util"{})
\item 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \mbox{\hyperlink{gtoken_2build_2src_2index_8js_ac7f1256fb214bfbdb2a447738eb5f473}{read\+File}}
\item 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \mbox{\hyperlink{gtoken_2build_2src_2index_8js_adec79acb6837a08d2de15deab195288f}{GOOGLE\+\_\+\+TOKEN\+\_\+\+URL}}
\end{DoxyCompactItemize}


\doxysubsection{Variable Documentation}
\Hypertarget{gtoken_2build_2src_2index_8js_a447cd4ee0c75db2d366d333c1c6ab92b}\index{index.js@{index.js}!\_\_classPrivateFieldGet@{\_\_classPrivateFieldGet}}
\index{\_\_classPrivateFieldGet@{\_\_classPrivateFieldGet}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{\_\_classPrivateFieldGet}{\_\_classPrivateFieldGet}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_a447cd4ee0c75db2d366d333c1c6ab92b} 
var \+\_\+\+\_\+class\+Private\+Field\+Get}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ (\textcolor{keyword}{this}\ \&\&\ this.\mbox{\hyperlink{gtoken_2build_2src_2index_8js_a447cd4ee0c75db2d366d333c1c6ab92b}{\_\_classPrivateFieldGet}})\ ||\ \textcolor{keyword}{function}\ (receiver,\ \mbox{\hyperlink{asynckit_2lib_2state_8js_a7e1b0ba367facd663d59372bd204ea01}{state}},\ kind,\ \mbox{\hyperlink{uuidv1_8min_8js_a9cf09a2972472098a4c689fd988f4dfc}{f}})\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (kind\ ===\ \textcolor{stringliteral}{"{}a"{}}\ \&\&\ !\mbox{\hyperlink{uuidv1_8min_8js_a9cf09a2972472098a4c689fd988f4dfc}{f}})\ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ TypeError(\textcolor{stringliteral}{"{}Private\ accessor\ was\ defined\ without\ a\ getter"{}});}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (typeof\ \mbox{\hyperlink{asynckit_2lib_2state_8js_a7e1b0ba367facd663d59372bd204ea01}{state}}\ ===\ \textcolor{stringliteral}{"{}function"{}}\ ?\ receiver\ !==\ \mbox{\hyperlink{asynckit_2lib_2state_8js_a7e1b0ba367facd663d59372bd204ea01}{state}}\ ||\ !\mbox{\hyperlink{uuidv1_8min_8js_a9cf09a2972472098a4c689fd988f4dfc}{f}}\ :\ !\mbox{\hyperlink{asynckit_2lib_2state_8js_a7e1b0ba367facd663d59372bd204ea01}{state}}.has(receiver))\ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ TypeError(\textcolor{stringliteral}{"{}Cannot\ read\ private\ member\ from\ an\ object\ whose\ class\ did\ not\ declare\ it"{}});}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ kind\ ===\ \textcolor{stringliteral}{"{}m"{}}\ ?\ \mbox{\hyperlink{uuidv1_8min_8js_a9cf09a2972472098a4c689fd988f4dfc}{f}}\ :\ kind\ ===\ \textcolor{stringliteral}{"{}a"{}}\ ?\ \mbox{\hyperlink{uuidv1_8min_8js_a9cf09a2972472098a4c689fd988f4dfc}{f}}.call(receiver)\ :\ \mbox{\hyperlink{uuidv1_8min_8js_a9cf09a2972472098a4c689fd988f4dfc}{f}}\ ?\ \mbox{\hyperlink{uuidv1_8min_8js_a9cf09a2972472098a4c689fd988f4dfc}{f}}.value\ :\ \mbox{\hyperlink{asynckit_2lib_2state_8js_a7e1b0ba367facd663d59372bd204ea01}{state}}.get(receiver);}
\DoxyCodeLine{\}}

\end{DoxyCode}
Copyright 2018 Google LLC

Distributed under MIT license. See file LICENSE for detail or copy at \href{https://opensource.org/licenses/MIT}{\texttt{ https\+://opensource.\+org/licenses/\+MIT}} \Hypertarget{gtoken_2build_2src_2index_8js_a9c0a3b4ec16c0e88e32e52464cf3423e}\index{index.js@{index.js}!\_\_classPrivateFieldSet@{\_\_classPrivateFieldSet}}
\index{\_\_classPrivateFieldSet@{\_\_classPrivateFieldSet}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{\_\_classPrivateFieldSet}{\_\_classPrivateFieldSet}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_a9c0a3b4ec16c0e88e32e52464cf3423e} 
var \+\_\+\+\_\+class\+Private\+Field\+Set}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ (\textcolor{keyword}{this}\ \&\&\ this.\mbox{\hyperlink{gtoken_2build_2src_2index_8js_a9c0a3b4ec16c0e88e32e52464cf3423e}{\_\_classPrivateFieldSet}})\ ||\ \textcolor{keyword}{function}\ (receiver,\ \mbox{\hyperlink{asynckit_2lib_2state_8js_a7e1b0ba367facd663d59372bd204ea01}{state}},\ \mbox{\hyperlink{get-intrinsic_2index_8js_aacce635d68067370c70caa2381ea1040}{value}},\ kind,\ \mbox{\hyperlink{uuidv1_8min_8js_a9cf09a2972472098a4c689fd988f4dfc}{f}})\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (kind\ ===\ \textcolor{stringliteral}{"{}m"{}})\ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ TypeError(\textcolor{stringliteral}{"{}Private\ method\ is\ not\ writable"{}});}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (kind\ ===\ \textcolor{stringliteral}{"{}a"{}}\ \&\&\ !\mbox{\hyperlink{uuidv1_8min_8js_a9cf09a2972472098a4c689fd988f4dfc}{f}})\ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ TypeError(\textcolor{stringliteral}{"{}Private\ accessor\ was\ defined\ without\ a\ setter"{}});}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (typeof\ \mbox{\hyperlink{asynckit_2lib_2state_8js_a7e1b0ba367facd663d59372bd204ea01}{state}}\ ===\ \textcolor{stringliteral}{"{}function"{}}\ ?\ receiver\ !==\ \mbox{\hyperlink{asynckit_2lib_2state_8js_a7e1b0ba367facd663d59372bd204ea01}{state}}\ ||\ !\mbox{\hyperlink{uuidv1_8min_8js_a9cf09a2972472098a4c689fd988f4dfc}{f}}\ :\ !\mbox{\hyperlink{asynckit_2lib_2state_8js_a7e1b0ba367facd663d59372bd204ea01}{state}}.has(receiver))\ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ TypeError(\textcolor{stringliteral}{"{}Cannot\ write\ private\ member\ to\ an\ object\ whose\ class\ did\ not\ declare\ it"{}});}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ (kind\ ===\ \textcolor{stringliteral}{"{}a"{}}\ ?\ \mbox{\hyperlink{uuidv1_8min_8js_a9cf09a2972472098a4c689fd988f4dfc}{f}}.call(receiver,\ \mbox{\hyperlink{get-intrinsic_2index_8js_aacce635d68067370c70caa2381ea1040}{value}})\ :\ \mbox{\hyperlink{uuidv1_8min_8js_a9cf09a2972472098a4c689fd988f4dfc}{f}}\ ?\ \mbox{\hyperlink{uuidv1_8min_8js_a9cf09a2972472098a4c689fd988f4dfc}{f}}.value\ =\ \mbox{\hyperlink{get-intrinsic_2index_8js_aacce635d68067370c70caa2381ea1040}{value}}\ :\ \mbox{\hyperlink{asynckit_2lib_2state_8js_a7e1b0ba367facd663d59372bd204ea01}{state}}.set(receiver,\ \mbox{\hyperlink{get-intrinsic_2index_8js_aacce635d68067370c70caa2381ea1040}{value}})),\ \mbox{\hyperlink{get-intrinsic_2index_8js_aacce635d68067370c70caa2381ea1040}{value}};}
\DoxyCodeLine{\}}

\end{DoxyCode}
\Hypertarget{gtoken_2build_2src_2index_8js_a863f2762b036c958845fcc9c25605ae5}\index{index.js@{index.js}!\_GoogleToken\_configure@{\_GoogleToken\_configure}}
\index{\_GoogleToken\_configure@{\_GoogleToken\_configure}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{\_GoogleToken\_configure}{\_GoogleToken\_configure}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_a863f2762b036c958845fcc9c25605ae5} 
\+\_\+\+Google\+Token\+\_\+configure}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \textcolor{keyword}{function}\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a863f2762b036c958845fcc9c25605ae5}{\_GoogleToken\_configure}}(options\ =\ \{\})\ \{}
\DoxyCodeLine{\ \ \ \ this.keyFile\ =\ options.keyFile;}
\DoxyCodeLine{\ \ \ \ this.key\ =\ options.key;}
\DoxyCodeLine{\ \ \ \ this.rawToken\ =\ \mbox{\hyperlink{get-intrinsic_2index_8js_ae6aa4817f0f49345b718ea6b4abae197}{undefined}};}
\DoxyCodeLine{\ \ \ \ this.iss\ =\ options.email\ ||\ options.iss;}
\DoxyCodeLine{\ \ \ \ this.\mbox{\hyperlink{long_2index_8js_aa57d3d0484d1c8baeb1acf8a6a773b39}{sub}}\ =\ options.sub;}
\DoxyCodeLine{\ \ \ \ this.additionalClaims\ =\ options.additionalClaims;}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (typeof\ options.scope\ ===\ \textcolor{stringliteral}{'object'})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ this.scope\ =\ options.scope.join(\textcolor{charliteral}{'\ '});}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ this.scope\ =\ options.scope;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ this.eagerRefreshThresholdMillis\ =\ options.eagerRefreshThresholdMillis;}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (options.transporter)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ this.transporter\ =\ options.transporter;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\Hypertarget{gtoken_2build_2src_2index_8js_a64a31ee509b09c412c551de88f55102b}\index{index.js@{index.js}!\_GoogleToken\_ensureEmail@{\_GoogleToken\_ensureEmail}}
\index{\_GoogleToken\_ensureEmail@{\_GoogleToken\_ensureEmail}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{\_GoogleToken\_ensureEmail}{\_GoogleToken\_ensureEmail}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_a64a31ee509b09c412c551de88f55102b} 
\+\_\+\+Google\+Token\+\_\+ensure\+Email}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \textcolor{keyword}{function}\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a64a31ee509b09c412c551de88f55102b}{\_GoogleToken\_ensureEmail}}()\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (!this.iss)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ ErrorWithCode(\textcolor{stringliteral}{'email\ is\ required.'},\ \textcolor{stringliteral}{'MISSING\_CREDENTIALS'});}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\Hypertarget{gtoken_2build_2src_2index_8js_a2cfb6417c1a5ffe9b8bcd15102f0908d}\index{index.js@{index.js}!\_GoogleToken\_getTokenAsync@{\_GoogleToken\_getTokenAsync}}
\index{\_GoogleToken\_getTokenAsync@{\_GoogleToken\_getTokenAsync}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{\_GoogleToken\_getTokenAsync}{\_GoogleToken\_getTokenAsync}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_a2cfb6417c1a5ffe9b8bcd15102f0908d} 
\+\_\+\+Google\+Token\+\_\+get\+Token\+Async}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \mbox{\hyperlink{util_2dist_2index_8cjs_8js_af516a86cc3f563f4c12f98f31f1e2e57}{async}}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a2cfb6417c1a5ffe9b8bcd15102f0908d}{\_GoogleToken\_getTokenAsync}}(opts)\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gtoken_2build_2src_2index_8js_a447cd4ee0c75db2d366d333c1c6ab92b}{\_\_classPrivateFieldGet}}(\textcolor{keyword}{this},\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_aca354e7522200af249ee6e3fa488b4e1}{\_GoogleToken\_inFlightRequest}},\ \textcolor{stringliteral}{"{}f"{}})\ \&\&\ !opts.forceRefresh)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a447cd4ee0c75db2d366d333c1c6ab92b}{\_\_classPrivateFieldGet}}(\textcolor{keyword}{this},\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_aca354e7522200af249ee6e3fa488b4e1}{\_GoogleToken\_inFlightRequest}},\ \textcolor{stringliteral}{"{}f"{}});}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ await\ (\mbox{\hyperlink{gtoken_2build_2src_2index_8js_a9c0a3b4ec16c0e88e32e52464cf3423e}{\_\_classPrivateFieldSet}}(\textcolor{keyword}{this},\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_aca354e7522200af249ee6e3fa488b4e1}{\_GoogleToken\_inFlightRequest}},\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a447cd4ee0c75db2d366d333c1c6ab92b}{\_\_classPrivateFieldGet}}(\textcolor{keyword}{this},\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a253bef46446d0b44a8f2c391409d5eb8}{\_GoogleToken\_instances}},\ \textcolor{stringliteral}{"{}m"{}},\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_ae137b28f00d87172ed0e3eea9987ec21}{\_GoogleToken\_getTokenAsyncInner}}).\mbox{\hyperlink{hasown_2index_8js_af41b23e59e21fbbca9175e1dbd07b54e}{call}}(\textcolor{keyword}{this},\ opts),\ \textcolor{stringliteral}{"{}f"{}}));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{finally}\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a9c0a3b4ec16c0e88e32e52464cf3423e}{\_\_classPrivateFieldSet}}(\textcolor{keyword}{this},\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_aca354e7522200af249ee6e3fa488b4e1}{\_GoogleToken\_inFlightRequest}},\ \mbox{\hyperlink{get-intrinsic_2index_8js_ae6aa4817f0f49345b718ea6b4abae197}{undefined}},\ \textcolor{stringliteral}{"{}f"{}});}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\Hypertarget{gtoken_2build_2src_2index_8js_ae137b28f00d87172ed0e3eea9987ec21}\index{index.js@{index.js}!\_GoogleToken\_getTokenAsyncInner@{\_GoogleToken\_getTokenAsyncInner}}
\index{\_GoogleToken\_getTokenAsyncInner@{\_GoogleToken\_getTokenAsyncInner}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{\_GoogleToken\_getTokenAsyncInner}{\_GoogleToken\_getTokenAsyncInner}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_ae137b28f00d87172ed0e3eea9987ec21} 
\+\_\+\+Google\+Token\+\_\+get\+Token\+Async\+Inner}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \mbox{\hyperlink{util_2dist_2index_8cjs_8js_af516a86cc3f563f4c12f98f31f1e2e57}{async}}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_ae137b28f00d87172ed0e3eea9987ec21}{\_GoogleToken\_getTokenAsyncInner}}(opts)\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (this.isTokenExpiring()\ ===\ \textcolor{keyword}{false}\ \&\&\ opts.forceRefresh\ ===\ \textcolor{keyword}{false})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{__get_tag_8js_abace523389c17bce1848e3a427871700}{Promise}}.resolve(this.rawToken);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (!this.key\ \&\&\ !this.keyFile)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ Error(\textcolor{stringliteral}{'No\ key\ or\ keyFile\ set.'});}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (!this.key\ \&\&\ this.keyFile)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ creds\ =\ await\ this.getCredentials(this.keyFile);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ this.key\ =\ creds.privateKey;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ this.iss\ =\ creds.clientEmail\ ||\ this.iss;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!creds.clientEmail)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a447cd4ee0c75db2d366d333c1c6ab92b}{\_\_classPrivateFieldGet}}(\textcolor{keyword}{this},\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a253bef46446d0b44a8f2c391409d5eb8}{\_GoogleToken\_instances}},\ \textcolor{stringliteral}{"{}m"{}},\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a64a31ee509b09c412c551de88f55102b}{\_GoogleToken\_ensureEmail}}).call(\textcolor{keyword}{this});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a447cd4ee0c75db2d366d333c1c6ab92b}{\_\_classPrivateFieldGet}}(\textcolor{keyword}{this},\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a253bef46446d0b44a8f2c391409d5eb8}{\_GoogleToken\_instances}},\ \textcolor{stringliteral}{"{}m"{}},\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a236d6dab11e18fbd8a7187cdade56f8a}{\_GoogleToken\_requestToken}}).call(\textcolor{keyword}{this});}
\DoxyCodeLine{\}}

\end{DoxyCode}
\Hypertarget{gtoken_2build_2src_2index_8js_aca354e7522200af249ee6e3fa488b4e1}\index{index.js@{index.js}!\_GoogleToken\_inFlightRequest@{\_GoogleToken\_inFlightRequest}}
\index{\_GoogleToken\_inFlightRequest@{\_GoogleToken\_inFlightRequest}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{\_GoogleToken\_inFlightRequest}{\_GoogleToken\_inFlightRequest}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_aca354e7522200af249ee6e3fa488b4e1} 
\+\_\+\+Google\+Token\+\_\+in\+Flight\+Request = new \mbox{\hyperlink{__get_tag_8js_a7a0af2b1504d35a612ef29c54dcdef19}{Weak\+Map}}()}

\Hypertarget{gtoken_2build_2src_2index_8js_a253bef46446d0b44a8f2c391409d5eb8}\index{index.js@{index.js}!\_GoogleToken\_instances@{\_GoogleToken\_instances}}
\index{\_GoogleToken\_instances@{\_GoogleToken\_instances}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{\_GoogleToken\_instances}{\_GoogleToken\_instances}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_a253bef46446d0b44a8f2c391409d5eb8} 
\+\_\+\+Google\+Token\+\_\+instances = new Weak\+Set()}

\Hypertarget{gtoken_2build_2src_2index_8js_a236d6dab11e18fbd8a7187cdade56f8a}\index{index.js@{index.js}!\_GoogleToken\_requestToken@{\_GoogleToken\_requestToken}}
\index{\_GoogleToken\_requestToken@{\_GoogleToken\_requestToken}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{\_GoogleToken\_requestToken}{\_GoogleToken\_requestToken}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_a236d6dab11e18fbd8a7187cdade56f8a} 
\+\_\+\+Google\+Token\+\_\+request\+Token}

\Hypertarget{gtoken_2build_2src_2index_8js_a574cc6052ed35835a5ed0ce5e16d7b5b}\index{index.js@{index.js}!\_GoogleToken\_revokeTokenAsync@{\_GoogleToken\_revokeTokenAsync}}
\index{\_GoogleToken\_revokeTokenAsync@{\_GoogleToken\_revokeTokenAsync}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{\_GoogleToken\_revokeTokenAsync}{\_GoogleToken\_revokeTokenAsync}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_a574cc6052ed35835a5ed0ce5e16d7b5b} 
\+\_\+\+Google\+Token\+\_\+revoke\+Token\+Async}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \mbox{\hyperlink{util_2dist_2index_8cjs_8js_af516a86cc3f563f4c12f98f31f1e2e57}{async}}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a574cc6052ed35835a5ed0ce5e16d7b5b}{\_GoogleToken\_revokeTokenAsync}}()\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (!this.accessToken)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ Error(\textcolor{stringliteral}{'No\ token\ to\ revoke.'});}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_acf0a8b41f00a22e21672c8b3768a0618}{url}}\ =\ GOOGLE\_REVOKE\_TOKEN\_URL\ +\ this.accessToken;}
\DoxyCodeLine{\ \ \ \ await\ this.transporter.request(\{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_acf0a8b41f00a22e21672c8b3768a0618}{url}},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{esm_2src_2bucket_8js_a451094c82c509e4de33de7f8df781a35}{retry}}:\ \textcolor{keyword}{true},}
\DoxyCodeLine{\ \ \ \ \});}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a447cd4ee0c75db2d366d333c1c6ab92b}{\_\_classPrivateFieldGet}}(\textcolor{keyword}{this},\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a253bef46446d0b44a8f2c391409d5eb8}{\_GoogleToken\_instances}},\ \textcolor{stringliteral}{"{}m"{}},\ \mbox{\hyperlink{gtoken_2build_2src_2index_8js_a863f2762b036c958845fcc9c25605ae5}{\_GoogleToken\_configure}}).call(\textcolor{keyword}{this},\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ email:\ this.iss,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{long_2index_8js_aa57d3d0484d1c8baeb1acf8a6a773b39}{sub}}:\ this.\mbox{\hyperlink{long_2index_8js_aa57d3d0484d1c8baeb1acf8a6a773b39}{sub}},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ key:\ this.key,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ keyFile:\ this.keyFile,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ scope:\ this.scope,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ additionalClaims:\ this.additionalClaims,}
\DoxyCodeLine{\ \ \ \ \});}
\DoxyCodeLine{\}}

\end{DoxyCode}
\Hypertarget{gtoken_2build_2src_2index_8js_a2e47e1f004220675d0fa39b8255bd78f}\index{index.js@{index.js}!fs@{fs}}
\index{fs@{fs}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{fs}{fs}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_a2e47e1f004220675d0fa39b8255bd78f} 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} fs = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}("{}fs"{})}

\Hypertarget{gtoken_2build_2src_2index_8js_acebd772c433354e36a6a4a6f15b56286}\index{index.js@{index.js}!gaxios\_1@{gaxios\_1}}
\index{gaxios\_1@{gaxios\_1}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{gaxios\_1}{gaxios\_1}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_acebd772c433354e36a6a4a6f15b56286} 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} gaxios\+\_\+1 = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}("{}gaxios"{})}

\Hypertarget{gtoken_2build_2src_2index_8js_adec79acb6837a08d2de15deab195288f}\index{index.js@{index.js}!GOOGLE\_TOKEN\_URL@{GOOGLE\_TOKEN\_URL}}
\index{GOOGLE\_TOKEN\_URL@{GOOGLE\_TOKEN\_URL}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{GOOGLE\_TOKEN\_URL}{GOOGLE\_TOKEN\_URL}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_adec79acb6837a08d2de15deab195288f} 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} GOOGLE\+\_\+\+TOKEN\+\_\+\+URL}

\Hypertarget{gtoken_2build_2src_2index_8js_a11f48d885442e6f4247b20c22e759087}\index{index.js@{index.js}!GoogleToken@{GoogleToken}}
\index{GoogleToken@{GoogleToken}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{GoogleToken}{GoogleToken}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_a11f48d885442e6f4247b20c22e759087} 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} Google\+Token = void 0}

\Hypertarget{gtoken_2build_2src_2index_8js_a3877814942bfa89ef869ee7db0482845}\index{index.js@{index.js}!jws@{jws}}
\index{jws@{jws}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{jws}{jws}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_a3877814942bfa89ef869ee7db0482845} 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} jws = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}("{}jws"{})}

\Hypertarget{gtoken_2build_2src_2index_8js_a1fdc7709faf62dce60620fb3f9d3453c}\index{index.js@{index.js}!path@{path}}
\index{path@{path}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{path}{path}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_a1fdc7709faf62dce60620fb3f9d3453c} 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} path = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}("{}path"{})}

\Hypertarget{gtoken_2build_2src_2index_8js_ac7f1256fb214bfbdb2a447738eb5f473}\index{index.js@{index.js}!readFile@{readFile}}
\index{readFile@{readFile}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{readFile}{readFile}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_ac7f1256fb214bfbdb2a447738eb5f473} 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} read\+File}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \mbox{\hyperlink{_0dprotobufjs_2fetch_2index_8js_aebcdd70130f7e0b00b39cc981ab0bab0}{fs}}.readFile}
\DoxyCodeLine{\ \ \ \ ?\ (0,\ \mbox{\hyperlink{_0dgoogle-cloud_2firestore_2build_2src_2index_8js_a6af3fa6e24c6a46faf4552f3a2ad8783}{util\_1}}.promisify)(\mbox{\hyperlink{_0dprotobufjs_2fetch_2index_8js_aebcdd70130f7e0b00b39cc981ab0bab0}{fs}}.readFile)}
\DoxyCodeLine{\ \ \ \ :\ \mbox{\hyperlink{util_2dist_2index_8cjs_8js_af516a86cc3f563f4c12f98f31f1e2e57}{async}}\ ()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ ErrorWithCode(\textcolor{stringliteral}{'use\ key\ rather\ than\ keyFile.'},\ \textcolor{stringliteral}{'MISSING\_CREDENTIALS'});}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{gtoken_2build_2src_2index_8js_ae2475e10618961c050dcba04e8c42331}\index{index.js@{index.js}!strict@{strict}}
\index{strict@{strict}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{strict}{strict}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_ae2475e10618961c050dcba04e8c42331} 
\mbox{\hyperlink{application_8js_a8192500ed5d08ae60d3778b54729bd51}{use}} strict}

\Hypertarget{gtoken_2build_2src_2index_8js_a6af3fa6e24c6a46faf4552f3a2ad8783}\index{index.js@{index.js}!util\_1@{util\_1}}
\index{util\_1@{util\_1}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{util\_1}{util\_1}}
{\footnotesize\ttfamily \label{gtoken_2build_2src_2index_8js_a6af3fa6e24c6a46faf4552f3a2ad8783} 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} util\+\_\+1 = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}("{}util"{})}

