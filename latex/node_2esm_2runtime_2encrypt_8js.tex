\doxysection{backend/node\+\_\+modules/jose/dist/node/esm/runtime/encrypt.js File Reference}
\hypertarget{node_2esm_2runtime_2encrypt_8js}{}\label{node_2esm_2runtime_2encrypt_8js}\index{backend/node\_modules/jose/dist/node/esm/runtime/encrypt.js@{backend/node\_modules/jose/dist/node/esm/runtime/encrypt.js}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
function \mbox{\hyperlink{node_2esm_2runtime_2encrypt_8js_ac59e4ddb75e032340659e6642a4cbcec}{cbc\+Encrypt}} (enc, plaintext, cek, iv, aad)
\item 
function \mbox{\hyperlink{node_2esm_2runtime_2encrypt_8js_a60e3f11a9cd8b3c366d5a6c86139d8d6}{gcm\+Encrypt}} (enc, plaintext, cek, iv, aad)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{node_2esm_2runtime_2encrypt_8js_a59be084da8908b7d77ff34b25cd84488}{import}} \{ create\+Cipheriv, Key\+Object \} from \textquotesingle{}\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a3eca37c9aac9a17870baa116339724e3}{crypto}}\textquotesingle{}
\item 
\mbox{\hyperlink{component_2dist_2esm_2index_8esm2017_8js_a953be46b94f595d839e88a6d3d270309}{import}} \mbox{\hyperlink{browser_2lib_2check__iv__length_8js_a85d3fae8f80aa8e32cb9d13136d12e4c}{check\+Iv\+Length}} from lib check\+\_\+iv\+\_\+length \mbox{\hyperlink{node_2esm_2runtime_2encrypt_8js_a41a0d76cb906d2380571c98c7158620e}{js}}
\item 
\mbox{\hyperlink{node__modules_2_0dgrpc_2grpc-js_2build_2src_2server_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \mbox{\hyperlink{node_2esm_2runtime_2encrypt_8js_a25bbc30a2e3e870695cf45ea7d5a843e}{encrypt}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{node_2esm_2runtime_2encrypt_8js_ac59e4ddb75e032340659e6642a4cbcec}\index{encrypt.js@{encrypt.js}!cbcEncrypt@{cbcEncrypt}}
\index{cbcEncrypt@{cbcEncrypt}!encrypt.js@{encrypt.js}}
\doxysubsubsection{\texorpdfstring{cbcEncrypt()}{cbcEncrypt()}}
{\footnotesize\ttfamily \label{node_2esm_2runtime_2encrypt_8js_ac59e4ddb75e032340659e6642a4cbcec} 
function cbc\+Encrypt (\begin{DoxyParamCaption}\item[{}]{enc}{, }\item[{}]{plaintext}{, }\item[{}]{cek}{, }\item[{}]{iv}{, }\item[{}]{aad}{}\end{DoxyParamCaption})}



References \mbox{\hyperlink{form_8js_ab63a7754967c678e14c9ece9cf96be37}{\$}}, \mbox{\hyperlink{cipher_modes_8js_a59f970df5f32c55e944f3e781fcffebb}{cbc}}, \mbox{\hyperlink{cjs_2runtime_2cbc__tag_8js_a2558a4731bc379f7aedabb95a84a354c}{cbc\+Tag()}}, \mbox{\hyperlink{cipher_modes_8js_ad3529e6b62fffcc9799ee186212e4b5a}{cipher}}, \mbox{\hyperlink{node_2cjs_2lib_2buffer__utils_8js_af776a17274b57c50f3e7b020e1fcd88e}{concat}}, \mbox{\hyperlink{express_2lib_2request_8js_a5e3afd97276cc403924d1a449a83ea84}{is}}, \mbox{\hyperlink{jose_2dist_2node_2cjs_2util_2errors_8js_a0be60ea572dd147f9eca4a1e3ddfb8b7}{JOSENot\+Supported}}, \mbox{\hyperlink{long_2index_8js_ad7dc44f0ebdb746f4a5b0612ae9315cb}{not}}, and \mbox{\hyperlink{parse_int_8js_a04ee837a5f7721fcb0ea2d152162ef92}{parse\+Int()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=233pt]{node_2esm_2runtime_2encrypt_8js_ac59e4ddb75e032340659e6642a4cbcec_cgraph}
\end{center}
\end{figure}
\Hypertarget{node_2esm_2runtime_2encrypt_8js_a60e3f11a9cd8b3c366d5a6c86139d8d6}\index{encrypt.js@{encrypt.js}!gcmEncrypt@{gcmEncrypt}}
\index{gcmEncrypt@{gcmEncrypt}!encrypt.js@{encrypt.js}}
\doxysubsubsection{\texorpdfstring{gcmEncrypt()}{gcmEncrypt()}}
{\footnotesize\ttfamily \label{node_2esm_2runtime_2encrypt_8js_a60e3f11a9cd8b3c366d5a6c86139d8d6} 
function gcm\+Encrypt (\begin{DoxyParamCaption}\item[{}]{enc}{, }\item[{}]{plaintext}{, }\item[{}]{cek}{, }\item[{}]{iv}{, }\item[{}]{aad}{}\end{DoxyParamCaption})}



References \mbox{\hyperlink{form_8js_ab63a7754967c678e14c9ece9cf96be37}{\$}}, \mbox{\hyperlink{cipher_modes_8js_ad3529e6b62fffcc9799ee186212e4b5a}{cipher}}, \mbox{\hyperlink{cipher_modes_8js_a8976a34c4910066ec0336840711c80c9}{gcm}}, \mbox{\hyperlink{express_2lib_2request_8js_a5e3afd97276cc403924d1a449a83ea84}{is}}, \mbox{\hyperlink{jose_2dist_2node_2cjs_2util_2errors_8js_a0be60ea572dd147f9eca4a1e3ddfb8b7}{JOSENot\+Supported}}, \mbox{\hyperlink{long_2index_8js_ad7dc44f0ebdb746f4a5b0612ae9315cb}{not}}, and \mbox{\hyperlink{parse_int_8js_a04ee837a5f7721fcb0ea2d152162ef92}{parse\+Int()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=236pt]{node_2esm_2runtime_2encrypt_8js_a60e3f11a9cd8b3c366d5a6c86139d8d6_cgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\Hypertarget{node_2esm_2runtime_2encrypt_8js_a25bbc30a2e3e870695cf45ea7d5a843e}\index{encrypt.js@{encrypt.js}!encrypt@{encrypt}}
\index{encrypt@{encrypt}!encrypt.js@{encrypt.js}}
\doxysubsubsection{\texorpdfstring{encrypt}{encrypt}}
{\footnotesize\ttfamily \label{node_2esm_2runtime_2encrypt_8js_a25bbc30a2e3e870695cf45ea7d5a843e} 
export \mbox{\hyperlink{_0dgoogle-cloud_2firestore_2build_2src_2index_8js_a48acd3189d40b017f47c93b673b8b8f6}{default}} encrypt}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ (enc,\ plaintext,\ cek,\ iv,\ aad)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ let\ key;}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{browser_2runtime_2webcrypto_8js_a07bf2f5cc958f8fc7cfbe07d09a0f9e0}{isCryptoKey}}(cek))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{node_2cjs_2lib_2crypto__key_8js_af27b6a4feebf02858bb969780864aa80}{checkEncCryptoKey}}(cek,\ enc,\ \textcolor{stringliteral}{'encrypt'});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ key\ =\ KeyObject.from(cek);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cek\ instanceof\ Uint8Array\ ||\ isKeyObject(cek))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ key\ =\ cek;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ TypeError(invalidKeyInput(cek,\ ...\mbox{\hyperlink{_0dopentelemetry_2api_2build_2esm_2index_8js_ab7462236e30435444188ea2b81d92654}{types}},\ \textcolor{stringliteral}{'Uint8Array'}));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{browser_2runtime_2check__cek__length_8js_aa5aba0dc00292a4156bb55487c0c4897}{checkCekLength}}(enc,\ key);}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{browser_2lib_2check__iv__length_8js_a85d3fae8f80aa8e32cb9d13136d12e4c}{checkIvLength}}(enc,\ iv);}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{switch}\ (enc)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'A128CBC-\/HS256'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'A192CBC-\/HS384'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'A256CBC-\/HS512'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{browser_2runtime_2encrypt_8js_a38f8db9fa79fa92f71f229a187d58939}{cbcEncrypt}}(enc,\ plaintext,\ key,\ iv,\ aad);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'A128GCM'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'A192GCM'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'A256GCM'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{browser_2runtime_2encrypt_8js_a8cc8806747f3cef92634e0900e4f6a72}{gcmEncrypt}}(enc,\ plaintext,\ key,\ iv,\ aad);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{jose_2dist_2node_2cjs_2util_2errors_8js_a0be60ea572dd147f9eca4a1e3ddfb8b7}{JOSENotSupported}}(\textcolor{stringliteral}{'Unsupported\ JWE\ Content\ Encryption\ Algorithm'});}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\Hypertarget{node_2esm_2runtime_2encrypt_8js_a59be084da8908b7d77ff34b25cd84488}\index{encrypt.js@{encrypt.js}!import@{import}}
\index{import@{import}!encrypt.js@{encrypt.js}}
\doxysubsubsection{\texorpdfstring{import}{import}}
{\footnotesize\ttfamily \label{node_2esm_2runtime_2encrypt_8js_a59be084da8908b7d77ff34b25cd84488} 
import \{ create\+Cipheriv, Key\+Object \} from \textquotesingle{}\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a3eca37c9aac9a17870baa116339724e3}{crypto}}\textquotesingle{}}

\Hypertarget{node_2esm_2runtime_2encrypt_8js_a41a0d76cb906d2380571c98c7158620e}\index{encrypt.js@{encrypt.js}!js@{js}}
\index{js@{js}!encrypt.js@{encrypt.js}}
\doxysubsubsection{\texorpdfstring{js}{js}}
{\footnotesize\ttfamily \label{node_2esm_2runtime_2encrypt_8js_a41a0d76cb906d2380571c98c7158620e} 
\mbox{\hyperlink{component_2dist_2esm_2index_8esm2017_8js_a953be46b94f595d839e88a6d3d270309}{import}} supported from \mbox{\hyperlink{cjs_2runtime_2ciphers_8js_a6737f4bd3c834aea9bd2dbe5183b1f95}{ciphers}} js}

