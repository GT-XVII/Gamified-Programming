\doxysection{backend/node\+\_\+modules/limiter/lib/rate\+Limiter.js File Reference}
\hypertarget{rate_limiter_8js}{}\label{rate_limiter_8js}\index{backend/node\_modules/limiter/lib/rateLimiter.js@{backend/node\_modules/limiter/lib/rateLimiter.js}}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
var \mbox{\hyperlink{rate_limiter_8js_aeb8afa6e04ad7321404fe79eafffc5c5}{Token\+Bucket}} = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}(\textquotesingle{}./token\+Bucket\textquotesingle{})
\item 
var \mbox{\hyperlink{rate_limiter_8js_a5c72434b6b3245580c5c74962ab40ede}{get\+Milliseconds}} = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}(\textquotesingle{}./clock\textquotesingle{})
\item 
var \mbox{\hyperlink{rate_limiter_8js_a4a78c2b83026e3201c48c18700851031}{Rate\+Limiter}}
\item 
\mbox{\hyperlink{class_rate_limiter}{Rate\+Limiter}} \mbox{\hyperlink{rate_limiter_8js_a79a60e7fd193957a53f3302c9206699e}{prototype}}
\item 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a84770557f73663cbea2a9e12e7d45257}{module}} \mbox{\hyperlink{rate_limiter_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} = \mbox{\hyperlink{class_rate_limiter}{Rate\+Limiter}}
\end{DoxyCompactItemize}


\doxysubsection{Variable Documentation}
\Hypertarget{rate_limiter_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}\index{rateLimiter.js@{rateLimiter.js}!exports@{exports}}
\index{exports@{exports}!rateLimiter.js@{rateLimiter.js}}
\doxysubsubsection{\texorpdfstring{exports}{exports}}
{\footnotesize\ttfamily \label{rate_limiter_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34} 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a84770557f73663cbea2a9e12e7d45257}{module}} exports = \mbox{\hyperlink{class_rate_limiter}{Rate\+Limiter}}}

\Hypertarget{rate_limiter_8js_a5c72434b6b3245580c5c74962ab40ede}\index{rateLimiter.js@{rateLimiter.js}!getMilliseconds@{getMilliseconds}}
\index{getMilliseconds@{getMilliseconds}!rateLimiter.js@{rateLimiter.js}}
\doxysubsubsection{\texorpdfstring{getMilliseconds}{getMilliseconds}}
{\footnotesize\ttfamily \label{rate_limiter_8js_a5c72434b6b3245580c5c74962ab40ede} 
var get\+Milliseconds = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}(\textquotesingle{}./clock\textquotesingle{})}

\Hypertarget{rate_limiter_8js_a79a60e7fd193957a53f3302c9206699e}\index{rateLimiter.js@{rateLimiter.js}!prototype@{prototype}}
\index{prototype@{prototype}!rateLimiter.js@{rateLimiter.js}}
\doxysubsubsection{\texorpdfstring{prototype}{prototype}}
{\footnotesize\ttfamily \label{rate_limiter_8js_a79a60e7fd193957a53f3302c9206699e} 
\mbox{\hyperlink{class_rate_limiter}{Rate\+Limiter}} prototype}

\Hypertarget{rate_limiter_8js_a4a78c2b83026e3201c48c18700851031}\index{rateLimiter.js@{rateLimiter.js}!RateLimiter@{RateLimiter}}
\index{RateLimiter@{RateLimiter}!rateLimiter.js@{rateLimiter.js}}
\doxysubsubsection{\texorpdfstring{RateLimiter}{RateLimiter}}
{\footnotesize\ttfamily \label{rate_limiter_8js_a4a78c2b83026e3201c48c18700851031} 
var Rate\+Limiter}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \textcolor{keyword}{function}(tokensPerInterval,\ \mbox{\hyperlink{rxjs_2dist_2cjs_2index_8js_af0b145a3cd1c67ae14a83aa1f274a4c8}{interval}},\ fireImmediately)\ \{}
\DoxyCodeLine{\ \ this.tokenBucket\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{rate_limiter_8js_aeb8afa6e04ad7321404fe79eafffc5c5}{TokenBucket}}(tokensPerInterval,\ tokensPerInterval,}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{rxjs_2dist_2cjs_2index_8js_af0b145a3cd1c67ae14a83aa1f274a4c8}{interval}},\ \textcolor{keyword}{null});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ }
\DoxyCodeLine{\ \ this.tokenBucket.content\ =\ tokensPerInterval;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ this.curIntervalStart\ =\ \mbox{\hyperlink{rate_limiter_8js_a5c72434b6b3245580c5c74962ab40ede}{getMilliseconds}}();}
\DoxyCodeLine{\ \ this.tokensThisInterval\ =\ 0;}
\DoxyCodeLine{\ \ this.fireImmediately\ =\ fireImmediately;}
\DoxyCodeLine{\}}

\end{DoxyCode}
\doxylink{class_a}{A} generic rate limiter. Underneath the hood, this uses a token bucket plus an additional check to limit how many tokens we can remove each interval. \begin{DoxyAuthor}{Author}
John Hurliman \href{mailto:jhurliman@jhurliman.org}{\texttt{ jhurliman@jhurliman.\+org}}
\end{DoxyAuthor}

\begin{DoxyParams}{Parameters}
{\em \{\+Number\}} & tokens\+Per\+Interval Maximum number of tokens that can be removed at any given moment and over the course of one interval. \\
\hline
{\em \{\+String\texorpdfstring{$\vert$}{|}\+Number\}} & interval The interval length in milliseconds, or as one of the following strings\+: \textquotesingle{}second\textquotesingle{}, \textquotesingle{}minute\textquotesingle{}, \textquotesingle{}hour\textquotesingle{}, day\textquotesingle{}. \\
\hline
{\em \{\+Boolean\}} & fire\+Immediately Optional. Whether or not the callback will fire immediately when rate limiting is in effect (default is false). \\
\hline
\end{DoxyParams}
\Hypertarget{rate_limiter_8js_aeb8afa6e04ad7321404fe79eafffc5c5}\index{rateLimiter.js@{rateLimiter.js}!TokenBucket@{TokenBucket}}
\index{TokenBucket@{TokenBucket}!rateLimiter.js@{rateLimiter.js}}
\doxysubsubsection{\texorpdfstring{TokenBucket}{TokenBucket}}
{\footnotesize\ttfamily \label{rate_limiter_8js_aeb8afa6e04ad7321404fe79eafffc5c5} 
var Token\+Bucket = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}(\textquotesingle{}./token\+Bucket\textquotesingle{})}

