\doxysection{backend/node\+\_\+modules/websocket-\/extensions/lib/pipeline/index.js File Reference}
\hypertarget{websocket-extensions_2lib_2pipeline_2index_8js}{}\label{websocket-extensions_2lib_2pipeline_2index_8js}\index{backend/node\_modules/websocket-\/extensions/lib/pipeline/index.js@{backend/node\_modules/websocket-\/extensions/lib/pipeline/index.js}}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{application_8js_a8192500ed5d08ae60d3778b54729bd51}{use}} \mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_ae2475e10618961c050dcba04e8c42331}{strict}}
\item 
var \mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_a1711411dc32284468555c7b52d4512f4}{Cell}} = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}(\textquotesingle{}./cell\textquotesingle{})
\item 
var \mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_a51edbee166e11ae9979738b3dd41ba09}{Pledge}} = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}(\textquotesingle{}./pledge\textquotesingle{})
\item 
var \mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_ae0a96f8ae9190b82f4c42817fd150cb9}{Pipeline}}
\item 
\mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_ae0a96f8ae9190b82f4c42817fd150cb9}{Pipeline}} \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_af72db6499f8cf0582958ab32fc3c7032}{prototype}} \mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_aaf16c35257f20bf144d039371dfcab86}{process\+Incoming\+Message}}
\item 
\mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_ae0a96f8ae9190b82f4c42817fd150cb9}{Pipeline}} \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_af72db6499f8cf0582958ab32fc3c7032}{prototype}} \mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_a7bfba9623f46a84d625b555b5b4adb20}{process\+Outgoing\+Message}}
\item 
\mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_ae0a96f8ae9190b82f4c42817fd150cb9}{Pipeline}} \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_af72db6499f8cf0582958ab32fc3c7032}{prototype}} \mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_a7f22e9233a0ef94799eb4275f2821d9c}{close}}
\item 
\mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_ae0a96f8ae9190b82f4c42817fd150cb9}{Pipeline}} \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_af72db6499f8cf0582958ab32fc3c7032}{prototype}} \mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_a72bf5d016e4dbf9cea4229bc34880ed7}{\+\_\+loop}}
\item 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a84770557f73663cbea2a9e12e7d45257}{module}} \mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} = \mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_ae0a96f8ae9190b82f4c42817fd150cb9}{Pipeline}}
\end{DoxyCompactItemize}


\doxysubsection{Variable Documentation}
\Hypertarget{websocket-extensions_2lib_2pipeline_2index_8js_a72bf5d016e4dbf9cea4229bc34880ed7}\index{index.js@{index.js}!\_loop@{\_loop}}
\index{\_loop@{\_loop}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{\_loop}{\_loop}}
{\footnotesize\ttfamily \label{websocket-extensions_2lib_2pipeline_2index_8js_a72bf5d016e4dbf9cea4229bc34880ed7} 
\mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_ae0a96f8ae9190b82f4c42817fd150cb9}{Pipeline}} \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_af72db6499f8cf0582958ab32fc3c7032}{prototype}} \+\_\+loop}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \textcolor{keyword}{function}(direction,\ \mbox{\hyperlink{cipher_8js_a1960adf42cbf8c24067b45da3a2f0aaf}{start}},\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a2eb0ae9087079e95bc67981f6c61288b}{end}},\ step,\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_ad031ac2c2bcd5e0fe9c6b67fc309acd4}{message}},\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a622460feeccdab6d8f307936fc6b36fb}{callback}},\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a2f035fcf2afcfd1521c26d73d7d9de31}{context}})\ \{}
\DoxyCodeLine{\ \ var\ cells\ =\ this.\_cells,}
\DoxyCodeLine{\ \ \ \ \ \ \mbox{\hyperlink{uuid_8min_8js_afc984c4f6c68ce30a0af99006f5f8d27}{n}}\ \ \ \ \ =\ cells.length,}
\DoxyCodeLine{\ \ \ \ \ \ \textcolor{keyword}{self}\ \ =\ \textcolor{keyword}{this};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{uuid_8min_8js_afc984c4f6c68ce30a0af99006f5f8d27}{n}}-\/-\/)\ cells[\mbox{\hyperlink{uuid_8min_8js_afc984c4f6c68ce30a0af99006f5f8d27}{n}}].pending(direction);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ var\ \mbox{\hyperlink{combined__stream_8js_ab09a619c83489b2126524760af3d7672}{pipe}}\ =\ \textcolor{keyword}{function}(\mbox{\hyperlink{cookie_2index_8js_a0ac000318c33f03e412baff8df5b2513}{index}},\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_afaa7db0d6208d21f727c716fa3962b44}{error}},\ \mbox{\hyperlink{protobufjs_2ext_2descriptor_2test_8js_aa2e57ff47bd491f47d9b13a694aa0aeb}{msg}})\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{cookie_2index_8js_a0ac000318c33f03e412baff8df5b2513}{index}}\ ===\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a2eb0ae9087079e95bc67981f6c61288b}{end}})\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a622460feeccdab6d8f307936fc6b36fb}{callback}}.call(\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a2f035fcf2afcfd1521c26d73d7d9de31}{context}},\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_afaa7db0d6208d21f727c716fa3962b44}{error}},\ \mbox{\hyperlink{protobufjs_2ext_2descriptor_2test_8js_aa2e57ff47bd491f47d9b13a694aa0aeb}{msg}});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ cells[\mbox{\hyperlink{cookie_2index_8js_a0ac000318c33f03e412baff8df5b2513}{index}}][direction](\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_afaa7db0d6208d21f727c716fa3962b44}{error}},\ \mbox{\hyperlink{protobufjs_2ext_2descriptor_2test_8js_aa2e57ff47bd491f47d9b13a694aa0aeb}{msg}},\ \textcolor{keyword}{function}(err,\ \mbox{\hyperlink{agent-base_2node__modules_2ms_2index_8js_a9e77e016b2928d7dcb493b89a0c9dc32}{m}})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \textcolor{keywordflow}{if}\ (err)\ \textcolor{keyword}{self}.\_stopped[direction]\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\ \ \ \ \ \ \mbox{\hyperlink{combined__stream_8js_ab09a619c83489b2126524760af3d7672}{pipe}}(\mbox{\hyperlink{cookie_2index_8js_a0ac000318c33f03e412baff8df5b2513}{index}}\ +\ step,\ err,\ \mbox{\hyperlink{agent-base_2node__modules_2ms_2index_8js_a9e77e016b2928d7dcb493b89a0c9dc32}{m}});}
\DoxyCodeLine{\ \ \ \ \});}
\DoxyCodeLine{\ \ \};}
\DoxyCodeLine{\ \ \mbox{\hyperlink{combined__stream_8js_ab09a619c83489b2126524760af3d7672}{pipe}}(\mbox{\hyperlink{cipher_8js_a1960adf42cbf8c24067b45da3a2f0aaf}{start}},\ \textcolor{keyword}{null},\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_ad031ac2c2bcd5e0fe9c6b67fc309acd4}{message}});}
\DoxyCodeLine{\}}

\end{DoxyCode}
\Hypertarget{websocket-extensions_2lib_2pipeline_2index_8js_a1711411dc32284468555c7b52d4512f4}\index{index.js@{index.js}!Cell@{Cell}}
\index{Cell@{Cell}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{Cell}{Cell}}
{\footnotesize\ttfamily \label{websocket-extensions_2lib_2pipeline_2index_8js_a1711411dc32284468555c7b52d4512f4} 
var Cell = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}(\textquotesingle{}./cell\textquotesingle{})}

\Hypertarget{websocket-extensions_2lib_2pipeline_2index_8js_a7f22e9233a0ef94799eb4275f2821d9c}\index{index.js@{index.js}!close@{close}}
\index{close@{close}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{close}{close}}
{\footnotesize\ttfamily \label{websocket-extensions_2lib_2pipeline_2index_8js_a7f22e9233a0ef94799eb4275f2821d9c} 
\mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_ae0a96f8ae9190b82f4c42817fd150cb9}{Pipeline}} \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_af72db6499f8cf0582958ab32fc3c7032}{prototype}} close}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \textcolor{keyword}{function}(\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a622460feeccdab6d8f307936fc6b36fb}{callback}},\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a2f035fcf2afcfd1521c26d73d7d9de31}{context}})\ \{}
\DoxyCodeLine{\ \ this.\_stopped\ =\ \{\ \mbox{\hyperlink{cell_8js_a31aaa2defa2112e18589be8a280e4bf0}{incoming}}:\ \textcolor{keyword}{true},\ \mbox{\hyperlink{cell_8js_a09de321b238260f155c3fc97a4ee305c}{outgoing}}:\ \textcolor{keyword}{true}\ \};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ var\ closed\ =\ this.\_cells.map(\textcolor{keyword}{function}(\mbox{\hyperlink{ordered-map_8min_8js_aa4d4888597588a84fd5b1184d00c91f3}{a}})\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{ordered-map_8min_8js_aa4d4888597588a84fd5b1184d00c91f3}{a}}.close()\ \});}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a622460feeccdab6d8f307936fc6b36fb}{callback}})}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_a51edbee166e11ae9979738b3dd41ba09}{Pledge}}.all(closed).then(\textcolor{keyword}{function}()\ \{\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a622460feeccdab6d8f307936fc6b36fb}{callback}}.call(\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a2f035fcf2afcfd1521c26d73d7d9de31}{context}})\ \});}
\DoxyCodeLine{\}}

\end{DoxyCode}
\Hypertarget{websocket-extensions_2lib_2pipeline_2index_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}\index{index.js@{index.js}!exports@{exports}}
\index{exports@{exports}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{exports}{exports}}
{\footnotesize\ttfamily \label{websocket-extensions_2lib_2pipeline_2index_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34} 
\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a84770557f73663cbea2a9e12e7d45257}{module}} exports = \mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_ae0a96f8ae9190b82f4c42817fd150cb9}{Pipeline}}}

\Hypertarget{websocket-extensions_2lib_2pipeline_2index_8js_ae0a96f8ae9190b82f4c42817fd150cb9}\index{index.js@{index.js}!Pipeline@{Pipeline}}
\index{Pipeline@{Pipeline}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{Pipeline}{Pipeline}}
{\footnotesize\ttfamily \label{websocket-extensions_2lib_2pipeline_2index_8js_ae0a96f8ae9190b82f4c42817fd150cb9} 
var Pipeline}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \textcolor{keyword}{function}(sessions)\ \{}
\DoxyCodeLine{\ \ this.\_cells\ \ \ =\ sessions.map(\textcolor{keyword}{function}(\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a3bb9e2b145c6085298a45027f885f0d3}{session}})\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_a1711411dc32284468555c7b52d4512f4}{Cell}}(\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a3bb9e2b145c6085298a45027f885f0d3}{session}})\ \});}
\DoxyCodeLine{\ \ this.\_stopped\ =\ \{\ \mbox{\hyperlink{cell_8js_a31aaa2defa2112e18589be8a280e4bf0}{incoming}}:\ \textcolor{keyword}{false},\ \mbox{\hyperlink{cell_8js_a09de321b238260f155c3fc97a4ee305c}{outgoing}}:\ \textcolor{keyword}{false}\ \};}
\DoxyCodeLine{\}}

\end{DoxyCode}
\Hypertarget{websocket-extensions_2lib_2pipeline_2index_8js_a51edbee166e11ae9979738b3dd41ba09}\index{index.js@{index.js}!Pledge@{Pledge}}
\index{Pledge@{Pledge}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{Pledge}{Pledge}}
{\footnotesize\ttfamily \label{websocket-extensions_2lib_2pipeline_2index_8js_a51edbee166e11ae9979738b3dd41ba09} 
var Pledge = \mbox{\hyperlink{__stream__duplex_8js_a472985ef50ed84466f5fce48a490c29b}{require}}(\textquotesingle{}./pledge\textquotesingle{})}

\Hypertarget{websocket-extensions_2lib_2pipeline_2index_8js_aaf16c35257f20bf144d039371dfcab86}\index{index.js@{index.js}!processIncomingMessage@{processIncomingMessage}}
\index{processIncomingMessage@{processIncomingMessage}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{processIncomingMessage}{processIncomingMessage}}
{\footnotesize\ttfamily \label{websocket-extensions_2lib_2pipeline_2index_8js_aaf16c35257f20bf144d039371dfcab86} 
\mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_ae0a96f8ae9190b82f4c42817fd150cb9}{Pipeline}} \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_af72db6499f8cf0582958ab32fc3c7032}{prototype}} process\+Incoming\+Message}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \textcolor{keyword}{function}(\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_ad031ac2c2bcd5e0fe9c6b67fc309acd4}{message}},\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a622460feeccdab6d8f307936fc6b36fb}{callback}},\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a2f035fcf2afcfd1521c26d73d7d9de31}{context}})\ \{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{if}\ (this.\_stopped.incoming)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\ \ this.\mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_a72bf5d016e4dbf9cea4229bc34880ed7}{\_loop}}(\textcolor{stringliteral}{'incoming'},\ this.\_cells.length\ -\/\ 1,\ -\/1,\ -\/1,\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_ad031ac2c2bcd5e0fe9c6b67fc309acd4}{message}},\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a622460feeccdab6d8f307936fc6b36fb}{callback}},\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a2f035fcf2afcfd1521c26d73d7d9de31}{context}});}
\DoxyCodeLine{\}}

\end{DoxyCode}
\Hypertarget{websocket-extensions_2lib_2pipeline_2index_8js_a7bfba9623f46a84d625b555b5b4adb20}\index{index.js@{index.js}!processOutgoingMessage@{processOutgoingMessage}}
\index{processOutgoingMessage@{processOutgoingMessage}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{processOutgoingMessage}{processOutgoingMessage}}
{\footnotesize\ttfamily \label{websocket-extensions_2lib_2pipeline_2index_8js_a7bfba9623f46a84d625b555b5b4adb20} 
\mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_ae0a96f8ae9190b82f4c42817fd150cb9}{Pipeline}} \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_af72db6499f8cf0582958ab32fc3c7032}{prototype}} process\+Outgoing\+Message}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \textcolor{keyword}{function}(\mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_ad031ac2c2bcd5e0fe9c6b67fc309acd4}{message}},\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a622460feeccdab6d8f307936fc6b36fb}{callback}},\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a2f035fcf2afcfd1521c26d73d7d9de31}{context}})\ \{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{if}\ (this.\_stopped.outgoing)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\ \ this.\mbox{\hyperlink{websocket-extensions_2lib_2pipeline_2index_8js_a72bf5d016e4dbf9cea4229bc34880ed7}{\_loop}}(\textcolor{stringliteral}{'outgoing'},\ 0,\ this.\_cells.length,\ 1,\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_ad031ac2c2bcd5e0fe9c6b67fc309acd4}{message}},\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a622460feeccdab6d8f307936fc6b36fb}{callback}},\ \mbox{\hyperlink{database-compat_2dist_2index_8standalone_8js_a2f035fcf2afcfd1521c26d73d7d9de31}{context}});}
\DoxyCodeLine{\}}

\end{DoxyCode}
\Hypertarget{websocket-extensions_2lib_2pipeline_2index_8js_ae2475e10618961c050dcba04e8c42331}\index{index.js@{index.js}!strict@{strict}}
\index{strict@{strict}!index.js@{index.js}}
\doxysubsubsection{\texorpdfstring{strict}{strict}}
{\footnotesize\ttfamily \label{websocket-extensions_2lib_2pipeline_2index_8js_ae2475e10618961c050dcba04e8c42331} 
\mbox{\hyperlink{application_8js_a8192500ed5d08ae60d3778b54729bd51}{use}} strict}

